<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promptium｜輕鬆分享提示詞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Racing+Sans+One&display=swap"
        rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="./static/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css" rel="stylesheet" type="text/css" />
    <style>
        * {
            font-family: "Noto Sans Mono", "Noto Sans TC", sans-serif;
            scrollbar-color: #ececec transparent;
            box-sizing: border-box;
        }

        body {
            height: 105vh;
            position: relative;
        }

        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            width: 100%;
            font-size: 1rem;
        }

        .ask-sec,
        .reply-sec {
            height: 176px;
            overflow-y: auto;
            width: calc(100% - 30px);
        }

        .accordion-button:focus {
            z-index: 3;
            border-color: rgba(0, 0, 0, .125);
            outline: 0;
            box-shadow: 0 0 0 .25rem rgba(0, 0, 0, .125);
        }

        .accordion-button:not(.collapsed) {
            color: #ffffff;
            background-color: rgba(0, 0, 0, .8);
            box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .125);
        }

        .accordion-button:not(.collapsed)::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }

        #lodgSec h1 {
            font-family: "Racing Sans One", sans-serif;
            font-weight: 400;
            font-style: normal;
            font-size: 64px;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        @media (max-width:576px) {
            #lodgSec h1 {
                font-size: 48px;
            }
        }

        a:hover h1,
        .list-group {
            cursor: pointer;
        }

        a.text-decoration-none h1 {
            color: inherit;
            /* 繼承父元素的文字顏色 */
        }

        #shareCopyAlert {
            bottom: 10px;
            right: 20px;
            z-index: 999;
            width: 200px;
            position: fixed;
        }

        #modalContent h1 {
            font-size: 2rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        #modalContent h2 {
            font-size: 1.75rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        #modalContent h3 {
            font-size: 1.5rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        #modalContent h4 {
            font-size: 1.25rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        #modalContent h5 {
            font-size: 1rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        #modalContent h6 {
            font-size: 1rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        #modalContent p {
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        input[type='range']::-webkit-slider-thumb {
            -webkit-appearance: none;
            background: #333;
            border-radius: 50%;
            box-shadow: none;
        }

        input[type='range']::-webkit-slider-thumb:active {
            background: #333;
            box-shadow: none;
        }

        input[type='range']:focus::-webkit-slider-thumb {
            box-shadow: none;
        }

        .tag-input {
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="alert alert-success mt-3" id="shareCopyAlert" style="display:none;">已成功複製連結！</div>
    <div class="container px-5 pt-5 mb-5" style="max-width: 56rem; min-height: 130vh;">
        <div class="row mb-4" id="lodgSec">
            <a href="/" class="text-decoration-none link-dark mb-4">
                <h1 class="text-center no-select">Promptium</h1>
            </a>
        </div>
        <div class="row mb-4">
            <h2 class="fs-6 mb-3 fw-bold">如何使用</h2>
            <p>
                使用 Promptium 可以輕鬆的分享提示詞模板，只要輸入提示詞的名稱、說明和模板，並點擊產生分享連結，即可完成分享。更棒的是，啟用 Promptium
                的進階功能後，還能將使用案例一併分享出去。
            </p>

            <div class="m-0 d-flex flex-md-row flex-column-reverse justify-content-between">
                <div class="d-flex flex-md-row flex-column">
                    <a class="btn btn-dark btn-sm mb-2 mb-md-0 me-md-2" role="button"
                        href="./flow.html#data/eyJkZXNjcmlwdGlvbiI6IumAmeaYr+S4gOWAi+eUqOS+huS+neeFp+aMh+WumuaWh+miqOmHjeaWsOaUueWvq+aWh+eroOeahOaPkOekuuipnua1geeoi++8jOacg+WFiOiriyBBSSDliIbmnpDmjIflrprmlofnq6DnmoTmlofnq6DpoqjmoLzvvIzmjqXokZfnlKjlj6Poqp7nmoTmlrnlvI/oqqrmmI7liIbmnpDntZDmnpzvvIzmnIDlvozkvp3nhafoqbLmlofpoqjph43mlrDmlLnlr6vmlofnq6DjgIIiLCJuYW1lIjoi5L6d54Wn5oyH5a6a5paH6aKo6YeN5paw5pS55a+r5paH56ugIiwidGVtcGVyYXR1cmVzIjpbIjAiLCIwIiwiMCIsIjAuOCIsIjAuMiJdLCJleGVjdXRlIjoiMSIsInByb21wdHMiOlsiQWN0IGFzIGEgdG9uZSBhbmFseXplci4gQW5hbHl6ZSB0aGUgd3JpdGluZyBzdHlsZSBhbmQgdG9uZSBvZiBbZXh0cmFjdF0uIENyZWF0ZSBhIGRlc2NyaXB0aW9uIG9mIHRoYXQgdGV4dCdzIHN0eWxlIGFuZCB0b25lIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVjcmVhdGUgbW9yZSB0ZXh0IGluIHRoYXQgc3R5bGUuIFlvdSBhcmUgbm90IHRvIHRha2UgYW55IGNvbnRleHQgb3IgaW5mb3JtYXRpb24gZnJvbSB0aGUgXCJleHRyYWN0XCIgYmVsb3cuIFRoZSBleHRyYWN0IHNoYXJlZCBpbiB0aGlzIHByb21wdCBpcyBQVVJFTFkgZm9yIHRvbmUgYW5hbHlzaXMgcHVycG9zZXMuXG5cbkV4YW1wbGU6IFRoZSBhdXRob3IncyB3cml0aW5nIHN0eWxlIGluIHRoaXMgdGV4dCBpcyBjb25jaXNlLCBpbmZvcm1hdGl2ZSBhbmQgdXNlcyBhIGpvdXJuYWxpc3RpYyB0b25lLiBUaGV5IG1haW50YWluIGEgc21vb3RoIGZsb3cgdGhyb3VnaG91dCB0aGUgdGV4dC4gVGhleSB1c2UgcHJlY2lzZSBhbmQgY2xlYXIgbGFuZ3VhZ2UuXG5cbkZvcm1hdDogQnVsbGV0IHBvaW50ZWQgbGlzdFxuIFxuRXh0cmFjdCA9IFtJbnNlcnQgSGVyZV0gXG5cblVzaW5nIHRoZSBhbmFseXplZCB0b25lLCByZXdyaXRlIFt0ZXh0XS5cblxuVGV4dCA9IFtJbnNlcnQgSGVyZV0iLCJQbGVhc2UgYW5hbHl6ZSB0aGUgZm9sbG93aW5nIHByb3ZpZGVkIGFydGljbGUuIFVzZSBNYXJrZG93bi5cblxuLS0tXG5cbuWlveS5heaykuWvq+S/oeS6hu+8jOi/keacn+aEn+imuuWPiOmAsuWFpeS6hueUn+eUouWKm+mrmOWOn+acn++8jOaHieipsuacieapn+acg+WkmuWvq+S6m+adseilv+OAglxuXG7pgJnnr4fmg7PorJvnmoTmmK/kuIDku7bmiJHkuIDnm7Tpg73mg7PlgZrvvIzkvYbkuI3norrlrprmgI7mqKPlgZrmr5TovIPlpb3nmoTkuovvvJrntZDorZjmm7TlpJrlv5flkIzpgZPlkIjnmoTkurroiIfljrLlrrPnmoTkurrjgIJcblxu5oiR5LiA55u06YO95riF5qWa55+l6YGT6Ieq5bex5piv5YCL5LiN5pOF6ZW36ZmM55Sf56S+5Lqk55qE5Lq677yM5Zyo6YKj56iu5pyJ44CM5pyL5Y+L55qE5pyL5Y+L44CN55qE6aOv5bGA77yM5bm+5LmO6YO95pyD5oSf5Yiw5b6I5LiN6Ieq5Zyo77yM5LmF5LqG5bCx5pyD55uh6YeP6YG/5YWN5Y+D6IiH6YCZ5qij55qE6IGa5pyD44CCXG5cbuS9huWPpuS4gOaWuemdou+8jOavj+asoeiIh+OAjOWOsuWus+eahOS6uu+8j+aci+WPi+OAjeiBmumkkOaIluWwjeipseaZgu+8jOW5vuS5jumDveeUoueUn+ioseWkmuaWsOeahOaDs+azleiIh+aUtuepq++8jOWboOatpOaIkeW/g+S4ree4veacieWAi+iBsumfs+WRiuiotOaIke+8jOaHieipsuimgeaDs+i+puazleWkmuiqjeitmOWOsuWus+eahOS6uuOAgeWkmui3n+WOsuWus+eahOS6uuS6pOa1geOAglxuXG7poIbokZfpgJnlgIvmlrnlkJHvvIzmiJHnm7Toprrmg7PliLDnmoTmlrnlvI/lsLHmmK/vvIzlnKjnpL7nvqTkuIrpnaLliIbkuqvpgJnku7bkuovvvIzmiJbogIXmmK/lnKjmiJHnmoTntrLnq5nnlZnkuIvpgqPnqK7jgIzot5/miJHntITlgIsgMW9uMSDjgI3nmoTpgoDoq4vpgKPntZDvvIzmiJHmg7Pmh4noqbLmnInmqZ/mnIPoqo3orZjkuIDkupvmlrDmnIvlj4vjgIJcblxu5L2G5oiR5Y+I6aas5LiK5oOz5Yiw77ya6YKj5aaC5p6c5oOz6KaB5om+5oiR6IGK55qE5Lq677yM5piv5oiR5a6M5YWo5rKS6IiI6Laj55qE5Lq677yM5oiR6Kmy5oCO6bq86L6m77yf5oiR6Kmy5oCO6bq85ouS57WV77yf5oiR5LiA5a6a5pyD5oOz5ouS57WV77yM5L2G6YCZ5qij5oSf6Ka65pyD5b6I5YK35Lq644CC6ICM5aaC5p6c5LiN5ouS57WV77yM6YCZ5Lu25LqL5bCN5oiR5L6G6Kyb5bCx5pyD6K6K5oiQ5LiN5pyJ6Laj55qE5LqL77yM5oiR6IKv5a6a5Lmf5rKS6L6m5rOV55yf55qE6K6T5bCN5pa55oSf5Y+X5Yiw55yf6Kqg6IiH5b6X5Yiw5pS256mr44CCXG5cbuWQjOaoo+eahO+8jOWBh+ioreaIkeimgeS4u+WLlemCgOe0hOWIpeS6uu+8jOWPl+mCgOeahOWwjeaWueacg+S4jeacg+S5n+aKseaMgeiRl+mAmeaoo+eahOW/g+aDhe+8jOiZleaWvOS4gOWAi+WNs+S9v+S4jeaYr+W+iOaDs+etlOaHie+8jOS5n+S4jeefpemBk+ipsuaAjuaoo+aLkue1leavlOi8g+WlveeahOWwt+WwrOeLgOaFi++8n+mblueEtuaIkeiiq+aLkue1leS5n+S4jeacg+WkquaUvuWcqOW/g+S4iu+8jOS9huiCr+WumumChOaYr+acg+imuuW+l+acieS6m+WkseiQve+8jOiAjOaIkeS4jeW4jOacm+WPl+aIkemCgOiri+eahOS6uuimgeiKseWKm+awo+WOu+aAneiAg+OAjOipsuaAjuaoo+aLkue1leaIkeOAjeOAglxuXG7ku6XpgY7ljrvlsJHmlbjnmoTjgIzmiJDlip/ntpPpqZfjgI3kvoboqqrvvIzmiJHoprrlvpfpl5zpjbXnmoTopoHntKDmmK/jgIzmiJHlt7LntpPnnIvpgY7lsI3mlrnlr6vnmoTmnbHopb/vvIzmiJHoprrlvpflvojmo5LjgI3jgIHjgIzlsI3mlrnkuZ/nnIvpgY7miJHlr6vnmoTmnbHopb/vvIzogIzkuJTmiJHnn6XpgZPlsI3mlrnkuZ/oprrlvpfmiJHlr6vnmoTmnbHopb/lvojmo5LjgI3vvIzoi6XlkIzmmYLmu7/otrPpgJnlhanku7bkuovvvIzpgoDntITmiJbmjqXlj5fpgoDntITlsI3miJHkvoboqqrlsLHmnIPororlvpflvojlrrnmmJPvvIzmspLku4Dpurzlo5PlipvjgIJcblxu5L2G6YCZ56iu57aT6amX5b6I5bCR77yM5Lmf5b6I6Zuj5Yi75oSP6YGU5oiQ44CC5oOz5L6G5oOz5Y6777yM5oiR5pqr5pmC5Lmf5oOz5LiN5aSq5Yiw5pyJ5pWI55qE6Kej5rG65pa55qGI77yM5Lmf6Kix5bCx5piv5oyB57qM5a+r5p2x6KW/77yM54S25b6M5LiN5ZCd6KGo6YGU5oiR5bCN5YW25LuW5Lq65a+r55qE5p2x6KW/55qE6K6a6LOe77yM6K6T6YKj56iu5oiQ5Yqf57aT6amX6IO95aSg55uh6YeP6Ieq54S26ICM54S255Si55Sf5ZCn77yfIiwi6KuL5bCH5YiG5p6Q57WQ5p6c57+76K2v5oiQ57mB6auU5Lit5paH44CCIiwi6KuL5omu5ryU5paH5a2X57eo6Lyv55So56ys5LiA5Lq656ix5LiU5Y+j6Kqe55qE5pa55byP77yM5LuL57S56Kmy5L2c6ICF55qE5paH6aKo44CCIiwi6KuL55So5YiG5p6Q5b6M55qE5paH6aKo5pS55a+r5Lul5LiL55qE5paH56ug77yM6KuL55u05o6l5o+Q5L6b5pS55a+r5a6M55qE5YWn5a6577yM5LiN6ZyA6KaB5YW25LuW6Kej6YeL5oiW6Kqq5piO44CCXG5cbi0tLVxuXG4jIOeCuuS7gOm6vCBBSSDkuI3lpKrmk4XplbflibXmhI/vvJ9cblxu5aaC5p6c5oOz55+l6YGT54K65LuA6bq8IEFJIOS4jeWkquaThemVt+WJteaEj++8jOaIkeWAkeW+l+WFiOS6huino+S7gOm6vOaYr+WJteaEj+OAguWJteaEj+WwseaYr+eUoueUn+aWsOm7nuWtkOOAgeino+axuuWVj+mhjOaIluWJteS9nOaciei2o+S9nOWTgeeahOiDveWKm++8jOWMheWQq+Wbm+WAi+mXnOmNte+8muacieWJtemAoOWKm+eahOS6uu+8iCBQZXJzb25zIO+8ie+8jOS7luWAkeeahOeJueizquWDj+aYr+WlveWlh+W/g+WSjOmWi+aUvuaAp++8m+WJteaEj+eahOmBjueoi++8iCBQcm9jZXNzZXMg77yJ77yM5Lmf5bCx5piv5aaC5L2V5oqK5oOz5rOV5b6e6IWm5rW35Lit6K6K5oiQ54++5a+m77yb5Ym15L2c55qE5oiQ5p6c77yIIFByb2R1Y3RzIO+8ie+8jOavlOWmguaWsOepjuWPiOWvpueUqOeahOS9nOWTge+8m+S7peWPiuWJteaEj+aJgOiZleeahOeSsOWig++8iCBQcmVzcyAvIEVudmlyb25tZW50IO+8ie+8jOWDj+aYr+aWh+WMluawm+WcjeaIluekvuacg+aUr+aMge+8jOmAmeS6m+WFp+WkluWboOe0oOmDveacg+W9semfv+WJteS9nOOAglxuXG7lm6DngrrlibXmhI/nmoTlg7nlgLzlnKjmlrzmu7/otrPkurrnmoTpnIDmsYLmiJbmv4DnmbzkurrnmoTmg4XmhJ/vvIzmiYDku6XlibXmhI/nmoTmoLjlv4PkuIDlrprlkozkurrlr4bliIfnm7jpl5zjgILnhLbogIzvvIxBSSDmnKzos6rkuIrlsLHmmK/kuIDlgIvln7rmlrzos4fmlpnlkozmvJTnrpfms5XnmoTlt6XlhbfvvIzpm5bnhLbog73mqKHku7/libXkvZznmoTlvaLlvI/vvIzkvYblvojpm6PnnJ/mraPnkIbop6PkurrpoZ7nmoTpnIDmsYLlkozmg4XmhJ/jgILlm6DmraTvvIxBSSDlnKjnmbzmj67libXmhI/mlrnpnaLmnInlub7lgIvkuLvopoHnmoTpmZDliLbjgIJcblxu6aaW5YWI77yMQUkg57y65LmP5YWn5Zyo5YuV5qmf5ZKM6ZyA5rGC5YWx6bO044CC5Ym15oSP5bi45bi45L6G6Ieq5Lq66aGe5bCN5ZWP6aGM55qE5pWP6Yqz5oSf55+l77yM5ZKM5bCN6Kej5rG65ZWP6aGM55qE54ax5oOF6IiH6L+95rGC44CCQUkg5rKS5pyJ6Ieq5bex55qE5YWn5Zyo5YuV5qmf5oiW5YO55YC86KeA77yM5a6D5Y+q5piv5qC55pOa5bey5pyJ55qE6LOH5paZ55Sf5oiQ5YWn5a6577yM54Sh5rOV55yf5q2j55CG6Kej54K65LuA6bq86ZyA6KaB5Ym16YCg5p+Q5qij5p2x6KW/44CCXG5cbuWFtuasoe+8jEFJIOWxgOmZkOaWvOizh+aWmeWSjOahhuaetuOAguWug+eahOiDveWKm+WfuuaWvOW3sue2k+iok+e3tOmBjueahOizh+aWme+8jOaJgOS7peWug+eahOWJteS9nOabtOWDj+aYr+aKiuW3suefpeWFg+e0oOmHjeaWsOe1hOWQiO+8jOiAjOS4jeaYr+WOn+WJteaAp+eahOeqgeegtOOAguWug+e8uuS5j+i3s+iEq+aXouacieahhuaetueahOiDveWKm++8jOeEoeazleeUoueUn+ecn+ato+S7pOS6uumpmuWWnOeahOWJteaWsOOAglxuXG7mraTlpJbvvIxBSSDnvLrkuY/mg4XmhJ/lkozlg7nlgLzliKTmlrfjgILlibXmhI/nmoTmiJDlip/vvIzkuI3lg4Xlj5bmsbrmlrzmioDooZPkuIrnmoTlroznvo7vvIzpgoTmtonlj4rmlofljJbog4zmma/jgIHpgZPlvrfop4Dlv7Xlkozmg4XmhJ/lg7nlgLzjgILpm5bnhLYgQUkg6IO955Sf5oiQ5YWn5a6577yM5L2G5a6D5LiN55CG6Kej5Lq66aGe55qE5paH5YyW6ISI57Wh5oiW5oOF5oSf6ZyA5rGC77yM5Zug5q2k5bi45bi457y65LmP5rex5bqm5oiW5YWx6bO044CCXG5cbuacgOW+jO+8jEFJIOeEoeazleiHquS4u+aOoue0ouacquefpeOAguS6uumhnuWJteaEj+eahOS4gOWkp+S+hua6kOWcqOaWvOWwjeacquefpeeahOaOoue0ouWSjOWGkumaqu+8jOiAjCBBSSDlj6rog73lnKjnj77mnInnmoTos4fmlpnnr4TlnI3lhafpgYvkvZzvvIznhKHms5XkuLvli5XmjJHmiLDmiJbnqoHnoLTpgJnkupvpmZDliLbjgIJcblxu5Zug5q2k77yM6ZuW54S2IEFJIOWPr+S7peWNlOWKqeWJteS9nOOAgeaPkOWNh+aViOeOh+aIluaPkOS+m+mdiOaEn++8jOS9huWug+eahOOAjOWJteaEj+OAjeWni+e1guWPl+mZkOaWvOizh+aWmeeahOevhOWcjeWSjOS6uueahOaMh+WwjuOAguWJteaEj+eahOaguOW/g+aYr+iIh+S6uumhnumcgOaxguWSjOaDheaEn+eahOmAo+e1kO+8jOiAjOmAmeato+aYryBBSSDnhKHms5Xlrozlhajmjozmj6HnmoTpoJjln5/jgILpgJnkuZ/op6Pph4vkuobngrrku4DpurznnJ/mraPnmoTlibXmhI/ku43pnIDopoHkurrpoZ7nmoTlj4PoiIflkozlvJXlsI7jgIIiXSwia2V5d29yZHMiOlt7fSx7fSx7fSx7fSx7fV0sInJlc3VsdCI6W1siQWN0IGFzIGEgdG9uZSBhbmFseXplci4gQW5hbHl6ZSB0aGUgd3JpdGluZyBzdHlsZSBhbmQgdG9uZSBvZiBbZXh0cmFjdF0uIENyZWF0ZSBhIGRlc2NyaXB0aW9uIG9mIHRoYXQgdGV4dCdzIHN0eWxlIGFuZCB0b25lIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVjcmVhdGUgbW9yZSB0ZXh0IGluIHRoYXQgc3R5bGUuIFlvdSBhcmUgbm90IHRvIHRha2UgYW55IGNvbnRleHQgb3IgaW5mb3JtYXRpb24gZnJvbSB0aGUgXCJleHRyYWN0XCIgYmVsb3cuIFRoZSBleHRyYWN0IHNoYXJlZCBpbiB0aGlzIHByb21wdCBpcyBQVVJFTFkgZm9yIHRvbmUgYW5hbHlzaXMgcHVycG9zZXMuXG5cbkV4YW1wbGU6IFRoZSBhdXRob3IncyB3cml0aW5nIHN0eWxlIGluIHRoaXMgdGV4dCBpcyBjb25jaXNlLCBpbmZvcm1hdGl2ZSBhbmQgdXNlcyBhIGpvdXJuYWxpc3RpYyB0b25lLiBUaGV5IG1haW50YWluIGEgc21vb3RoIGZsb3cgdGhyb3VnaG91dCB0aGUgdGV4dC4gVGhleSB1c2UgcHJlY2lzZSBhbmQgY2xlYXIgbGFuZ3VhZ2UuXG5cbkZvcm1hdDogQnVsbGV0IHBvaW50ZWQgbGlzdFxuIFxuRXh0cmFjdCA9IFtJbnNlcnQgSGVyZV0gXG5cblVzaW5nIHRoZSBhbmFseXplZCB0b25lLCByZXdyaXRlIFt0ZXh0XS5cblxuVGV4dCA9IFtJbnNlcnQgSGVyZV0iLCJJIHVuZGVyc3RhbmQgeW91IHdhbnQgbWUgdG86XG4xLiBBbmFseXplIHRoZSB0b25lL3N0eWxlIG9mIGFuIGV4dHJhY3QgeW91J2xsIHByb3ZpZGVcbjIuIENyZWF0ZSBhIGJ1bGxldC1wb2ludCBkZXNjcmlwdGlvbiBvZiB0aGF0IHN0eWxlXG4zLiBVc2UgdGhhdCBzdHlsZSB0byByZXdyaXRlIGFub3RoZXIgdGV4dCB5b3UnbGwgcHJvdmlkZVxuXG5Ib3dldmVyLCBJIGRvbid0IHNlZSB0aGUgZXh0cmFjdCBvciB0ZXh0IHlvdSB3YW50IG1lIHRvIHdvcmsgd2l0aC4gQ291bGQgeW91IHBsZWFzZSBwcm92aWRlOlxuLSBUaGUgZXh0cmFjdCB5b3Ugd2FudCBtZSB0byBhbmFseXplXG4tIFRoZSB0ZXh0IHlvdSB3YW50IG1lIHRvIHJld3JpdGVcblxuT25jZSB5b3Ugc2hhcmUgdGhvc2UsIEkgY2FuOlxuLSBCcmVhayBkb3duIHRoZSB0b25lIGFuZCBzdHlsZSBjaGFyYWN0ZXJpc3RpY3Ncbi0gQ3JlYXRlIGEgZGV0YWlsZWQgc3R5bGUgZ3VpZGVcbi0gUmV3cml0ZSB5b3VyIHRleHQgZm9sbG93aW5nIHRob3NlIHN0eWxlIHBhdHRlcm5zIiwiUGxlYXNlIGFuYWx5emUgdGhlIGZvbGxvd2luZyBwcm92aWRlZCBhcnRpY2xlLiBVc2UgTWFya2Rvd24uXG5cbi0tLVxuXG7lpb3kuYXmspLlr6vkv6HkuobvvIzov5HmnJ/mhJ/oprrlj4jpgLLlhaXkuobnlJ/nlKLlipvpq5jljp/mnJ/vvIzmh4noqbLmnInmqZ/mnIPlpJrlr6vkupvmnbHopb/jgIJcblxu6YCZ56+H5oOz6Kyb55qE5piv5LiA5Lu25oiR5LiA55u06YO95oOz5YGa77yM5L2G5LiN56K65a6a5oCO5qij5YGa5q+U6LyD5aW955qE5LqL77ya57WQ6K2Y5pu05aSa5b+X5ZCM6YGT5ZCI55qE5Lq66IiH5Y6y5a6z55qE5Lq644CCXG5cbuaIkeS4gOebtOmDvea4healmuefpemBk+iHquW3seaYr+WAi+S4jeaThemVt+mZjOeUn+ekvuS6pOeahOS6uu+8jOWcqOmCo+eoruacieOAjOaci+WPi+eahOaci+WPi+OAjeeahOmjr+WxgO+8jOW5vuS5jumDveacg+aEn+WIsOW+iOS4jeiHquWcqO+8jOS5heS6huWwseacg+eboemHj+mBv+WFjeWPg+iIh+mAmeaoo+eahOiBmuacg+OAglxuXG7kvYblj6bkuIDmlrnpnaLvvIzmr4/mrKHoiIfjgIzljrLlrrPnmoTkurrvvI/mnIvlj4vjgI3ogZrppJDmiJblsI3oqbHmmYLvvIzlub7kuY7pg73nlKLnlJ/oqLHlpJrmlrDnmoTmg7Pms5XoiIfmlLbnqavvvIzlm6DmraTmiJHlv4PkuK3nuL3mnInlgIvogbLpn7PlkYroqLTmiJHvvIzmh4noqbLopoHmg7Povqbms5XlpJroqo3orZjljrLlrrPnmoTkurrjgIHlpJrot5/ljrLlrrPnmoTkurrkuqTmtYHjgIJcblxu6aCG6JGX6YCZ5YCL5pa55ZCR77yM5oiR55u06Ka65oOz5Yiw55qE5pa55byP5bCx5piv77yM5Zyo56S+576k5LiK6Z2i5YiG5Lqr6YCZ5Lu25LqL77yM5oiW6ICF5piv5Zyo5oiR55qE57ay56uZ55WZ5LiL6YKj56iu44CM6Lef5oiR57SE5YCLIDFvbjEg44CN55qE6YKA6KuL6YCj57WQ77yM5oiR5oOz5oeJ6Kmy5pyJ5qmf5pyD6KqN6K2Y5LiA5Lqb5paw5pyL5Y+L44CCXG5cbuS9huaIkeWPiOmmrOS4iuaDs+WIsO+8mumCo+WmguaenOaDs+imgeaJvuaIkeiBiueahOS6uu+8jOaYr+aIkeWujOWFqOaykuiIiOi2o+eahOS6uu+8jOaIkeipsuaAjum6vOi+pu+8n+aIkeipsuaAjum6vOaLkue1le+8n+aIkeS4gOWumuacg+aDs+aLkue1le+8jOS9humAmeaoo+aEn+imuuacg+W+iOWCt+S6uuOAguiAjOWmguaenOS4jeaLkue1le+8jOmAmeS7tuS6i+WwjeaIkeS+huism+Wwseacg+iuiuaIkOS4jeaciei2o+eahOS6i++8jOaIkeiCr+WumuS5n+aykui+puazleecn+eahOiuk+WwjeaWueaEn+WPl+WIsOecn+iqoOiIh+W+l+WIsOaUtuepq+OAglxuXG7lkIzmqKPnmoTvvIzlgYfoqK3miJHopoHkuLvli5XpgoDntITliKXkurrvvIzlj5fpgoDnmoTlsI3mlrnmnIPkuI3mnIPkuZ/mirHmjIHokZfpgJnmqKPnmoTlv4Pmg4XvvIzomZXmlrzkuIDlgIvljbPkvb/kuI3mmK/lvojmg7PnrZTmh4nvvIzkuZ/kuI3nn6XpgZPoqbLmgI7mqKPmi5LntZXmr5TovIPlpb3nmoTlsLflsKzni4DmhYvvvJ/pm5bnhLbmiJHooqvmi5LntZXkuZ/kuI3mnIPlpKrmlL7lnKjlv4PkuIrvvIzkvYbogq/lrprpgoTmmK/mnIPoprrlvpfmnInkupvlpLHokL3vvIzogIzmiJHkuI3luIzmnJvlj5fmiJHpgoDoq4vnmoTkurropoHoirHlipvmsKPljrvmgJ3ogIPjgIzoqbLmgI7mqKPmi5LntZXmiJHjgI3jgIJcblxu5Lul6YGO5Y675bCR5pW455qE44CM5oiQ5Yqf57aT6amX44CN5L6G6Kqq77yM5oiR6Ka65b6X6Zec6Y2155qE6KaB57Sg5piv44CM5oiR5bey57aT55yL6YGO5bCN5pa55a+r55qE5p2x6KW/77yM5oiR6Ka65b6X5b6I5qOS44CN44CB44CM5bCN5pa55Lmf55yL6YGO5oiR5a+r55qE5p2x6KW/77yM6ICM5LiU5oiR55+l6YGT5bCN5pa55Lmf6Ka65b6X5oiR5a+r55qE5p2x6KW/5b6I5qOS44CN77yM6Iul5ZCM5pmC5ru/6Laz6YCZ5YWp5Lu25LqL77yM6YKA57SE5oiW5o6l5Y+X6YKA57SE5bCN5oiR5L6G6Kqq5bCx5pyD6K6K5b6X5b6I5a655piT77yM5rKS5LuA6bq85aOT5Yqb44CCXG5cbuS9humAmeeorue2k+mpl+W+iOWwke+8jOS5n+W+iOmbo+WIu+aEj+mBlOaIkOOAguaDs+S+huaDs+WOu++8jOaIkeaaq+aZguS5n+aDs+S4jeWkquWIsOacieaViOeahOino+axuuaWueahiO+8jOS5n+ioseWwseaYr+aMgee6jOWvq+adseilv++8jOeEtuW+jOS4jeWQneihqOmBlOaIkeWwjeWFtuS7luS6uuWvq+eahOadseilv+eahOiumuiznu+8jOiuk+mCo+eoruaIkOWKn+e2k+mpl+iDveWkoOeboemHj+iHqueEtuiAjOeEtueUoueUn+WQp++8nyIsIkhlcmUncyBteSB0b25lIGFuYWx5c2lzOlxuXG4qKlN0eWxlICYgVG9uZSBDaGFyYWN0ZXJpc3RpY3M6Kipcbi0gUGVyc29uYWwgYW5kIHJlZmxlY3RpdmVcbi0gQ29udmVyc2F0aW9uYWwgYW5kIGluZm9ybWFsXG4tIFNlbGYtYW5hbHl0aWNhbFxuLSBVc2VzIHJoZXRvcmljYWwgcXVlc3Rpb25zXG4tIFN0cmVhbS1vZi1jb25zY2lvdXNuZXNzIGZsb3dcbi0gSG9uZXN0IGFuZCB2dWxuZXJhYmxlXG4tIEluY2x1ZGVzIHBlcnNvbmFsIGFuZWNkb3Rlc1xuLSBVc2VzIGNhc3VhbCBwdW5jdHVhdGlvbiBhbmQgcGFjaW5nXG4tIEZpcnN0LXBlcnNvbiBwZXJzcGVjdGl2ZVxuLSBDb250ZW1wbGF0aXZlIGFuZCBleHBsb3JhdG9yeVxuXG4qKldyaXRpbmcgU3RydWN0dXJlOioqXG4tIE9wZW5zIHdpdGggYSBwZXJzb25hbCB1cGRhdGVcbi0gUHJlc2VudHMgYSBjZW50cmFsIGRpbGVtbWFcbi0gRXhwbG9yZXMgbXVsdGlwbGUgYW5nbGVzIG9mIHRoZSBwcm9ibGVtXG4tIFNoYXJlcyBwZXJzb25hbCBleHBlcmllbmNlc1xuLSBDb25jbHVkZXMgd2l0aCB0ZW50YXRpdmUgc29sdXRpb25zXG4tIFBhcmFncmFwaHMgZmxvdyBuYXR1cmFsbHkgYmV0d2VlbiB0aG91Z2h0c1xuLSBVc2VzIHF1ZXN0aW9ucyBmb3Igc2VsZi1yZWZsZWN0aW9uXG5cbioqTGFuZ3VhZ2UgRmVhdHVyZXM6Kipcbi0gQ2FzdWFsLCBibG9nLXN0eWxlIHdyaXRpbmdcbi0gTmF0dXJhbCB0cmFuc2l0aW9uc1xuLSBQZXJzb25hbCBwcm9ub3Vuc1xuLSBQcmVzZW50IHRlbnNlIG5hcnJhdGlvblxuLSBJbnRyb3NwZWN0aXZlIHBocmFzZXNcbi0gQmFsYW5jZWQgYmV0d2VlbiBmb3JtYWwgYW5kIGluZm9ybWFsIGxhbmd1YWdlXG4tIERpcmVjdCBhZGRyZXNzIHRvIHJlYWRlcnNcbi0gVGhvdWdodGZ1bCBwYXVzZXMgYW5kIGNvbnNpZGVyYXRpb25zXG5cblRoaXMgd3JpdGluZyBzdHlsZSB3b3VsZCBiZSBwYXJ0aWN1bGFybHkgZWZmZWN0aXZlIGZvcjpcbi0gUGVyc29uYWwgZXNzYXlzXG4tIEJsb2cgcG9zdHNcbi0gTmV3c2xldHRlciBjb250ZW50XG4tIFJlZmxlY3RpdmUgd3JpdGluZ1xuLSBTb2NpYWwgbWVkaWEgbG9uZy1mb3JtIGNvbnRlbnRcbi0gT3BpbmlvbiBwaWVjZXNcbi0gUGVyc29uYWwgZGV2ZWxvcG1lbnQgYXJ0aWNsZXNcblxuVGhlIG92ZXJhbGwgdG9uZSBjcmVhdGVzIGFuIGludGltYXRlLCBkaWFyeS1saWtlIGF0bW9zcGhlcmUgd2hpbGUgbWFpbnRhaW5pbmcgZW5vdWdoIHN0cnVjdHVyZSB0byBlbmdhZ2UgcmVhZGVycyBpbiBhIG1lYW5pbmdmdWwgZGlhbG9ndWUgYWJvdXQgcGVyc29uYWwgZ3Jvd3RoIGFuZCBzb2NpYWwgaW50ZXJhY3Rpb25zLiIsIuiri+Wwh+WIhuaekOe1kOaenOe/u+itr+aIkOe5gemrlOS4reaWh+OAgiIsIuS7peS4i+aYr+Wvq+S9nOmiqOagvOiIh+iqnuawo+WIhuaekO+8mlxuXG4qKumiqOagvOiIh+iqnuawo+eJuem7nu+8mioqXG4tIOWAi+S6uuWMluS4lOWPjeaAneaAp+W8t1xuLSDlsI3oqbHlvI/kuJTpnZ7mraPlvI9cbi0g6Ieq5oiR5YiG5p6Q5YK+5ZCRXG4tIOmBi+eUqOWPjeWVj+WPpVxuLSDmhI/orZjmtYHlvI/nmoTmgJ3ntq3lsZXplotcbi0g6Kqg5a+m5LiU5bGV54++6ISG5byx6Z2iXG4tIOWMheWQq+WAi+S6uui7vOS6i1xuLSDkvb/nlKjovJXprIbnmoTmqJnpu57oiIfnr4DlpY9cbi0g56ys5LiA5Lq656ix6KaW6KeSXG4tIOa3seaAneeGn+aFruS4lOWFt+aOoue0ouaAp1xuXG4qKuWvq+S9nOe1kOani++8mioqXG4tIOS7peWAi+S6uui/keazgemWi+WgtFxuLSDmj5Dlh7rmoLjlv4Plm7Dmk75cbi0g5o6i6KiO5ZWP6aGM55qE5aSa5YCL6Z2i5ZCRXG4tIOWIhuS6q+WAi+S6uue2k+mpl1xuLSDku6XmmqvmmYLmgKfop6PmsbrmlrnmoYjkvZzntZBcbi0g5q616JC96ZaT5oOz5rOV5rWB6L2J6Ieq54S2XG4tIOmBi+eUqOWVj+WPpemAsuihjOiHquaIkeWPjeaAnVxuXG4qKuiqnuiogOeJueiJsu+8mioqXG4tIOi8lemshueahOmDqOiQveagvOWvq+S9nOmiqOagvFxuLSDoh6rnhLbnmoTpgY7muKHpipzmjqVcbi0g5L2/55So5YCL5Lq65Luj6KmeXG4tIOePvuWcqOW8j+aVmOS6i1xuLSDlhafnnIHlvI/mjqrovq1cbi0g5Zyo5q2j5byP6IiH6Z2e5q2j5byP55So6Kqe6ZaT5Y+W5b6X5bmz6KGhXG4tIOebtOaOpeiIh+iugOiAheWwjeipsVxuLSDmt7HmgJ3nhp/mha7nmoTlgZzpoJPoiIfmgJ3ogINcblxu6YCZ56iu5a+r5L2c6aKo5qC854m55Yil6YGp5ZCI77yaXG4tIOWAi+S6uumaqOethlxuLSDpg6jokL3moLzmlofnq6Bcbi0g6Zu75a2Q5aCx5YWn5a65XG4tIOWPjeaAneaAp+aWh+eroFxuLSDnpL7nvqTlqpLpq5Tplbfmlodcbi0g6KmV6KuW5paH56ugXG4tIOWAi+S6uuaIkOmVt+S4u+mhjOaWh+eroFxuXG7mlbTpq5Toqp7msKPnh5/pgKDlh7rml6XoqJjlvI/nmoTopqrlr4bmsJvlnI3vvIzlkIzmmYLkv53mjIHotrPlpKDnmoTntZDmp4vmgKfvvIzog73lpKDlsLHlgIvkurrmiJDplbflkoznpL7kuqTkupLli5XorbDpoYzoiIforoDogIXpgLLooYzmnInmhI/nvqnnmoTlsI3oqbHjgIIiLCLoq4vmia7mvJTmloflrZfnt6jovK/nlKjnrKzkuIDkurrnqLHkuJTlj6Poqp7nmoTmlrnlvI/vvIzku4vntLnoqbLkvZzogIXnmoTmlofpoqjjgIIiLCLmiJHmnIDov5HnnIvkuobpgJnnr4fmlofnq6DvvIzoprrlvpfkvZzogIXnmoTlr6vkvZzpoqjmoLznnJ/nmoTooLvnibnliKXnmoTvvIHorpPmiJHot5/kvaDliIbkuqvkuIDkuIvmiJHnmoTop4Dlr5/vvJpcblxu6Kqq55yf55qE77yM6YCZ5L2N5L2c6ICF5a+r6LW35paH56ug5L6G5bCx5YOP5Zyo6Lef6ICB5pyL5Y+L6IGK5aSp5LiA5qij77yM6LaF57Sa6Ieq54S255qE77yB5L2g5pyJ55m854++5ZeO77yf5LuW5LiN5pyD5Yi75oSP5YyF6KOd6Ieq5bex77yM5Y+N6ICM5b6I5Z2m55m95Zyw5YiG5Lqr6Ieq5bex55qE54Wp5oOx5ZKM5LiN5a6J44CC6YCZ56iu44CM5oOz5Yiw5LuA6bq86Kqq5LuA6bq844CN55qE5oSf6Ka677yM6K6A6LW35L6G54m55Yil55yf5a+m44CCXG5cbuaIkeeJueWIpeWWnOatoeS7lueahOaAneiAg+aWueW8j++8jOWwseaYr+acg+aKiuS4gOWAi+WVj+mhjOe/u+S+huimhuWOu+WcsOeci+OAguavlOWmguiqqu+8jOS7luS4jeWPquism+OAjOaIkeaDs+iqjeitmOaWsOaci+WPi+OAje+8jOmChOacg+aDs+WIsOOAjOasuO+8jOS9huWmguaenOWwjeaWueS4jeaDs+eQhuaIkeaAjum6vOi+pu+8n+OAjemAmeeorumhp+aFruWIpeS6uuaEn+WPl+eahOWwj+e0sOevgOOAglxuXG7ogIzkuJTkvaDnn6XpgZPmnIDmnInotqPnmoTmmK/ku4Dpurzll47vvJ/ku5blr6vkvZznmoTnr4DlpY/lvojlg4/lnKjlr6vml6XoqJjvvIzkvYblj4jkuI3mnIPlpKrnp4Hlr4bmiJbmmK/pm7bnoo7jgILku5bmnIPkuIDot6/luLbokZforoDogIXvvIzlvp7mj5Dlh7rllY/poYzjgIHliIbmnpDlm7DlooPvvIzliLDmnIDlvozmj5Dlh7rkuIDkupvlj6/og73nmoTop6PmsbrmlrnmoYjvvIzmlbTlgIvohIjntaHpg73lvojmuIXmpZrjgIJcblxu5LiN6YGO5pyA5ZC45byV5oiR55qE6YKE5piv5LuW6YKj56iu5b6I6Kqg5a+m55qE6Kqe5rCj44CC5LuW5LiN5pyD6KOd5L2c6Ieq5bex5b6I5Y6y5a6z5oiW5piv5LuA6bq86YO95oeC77yM5Y+N6ICM5b6I5Z2m54S25Zyw5om/6KqN6Ieq5bex55qE5Zuw5pO+5ZKM5LiN6Laz44CC6YCZ56iu55yf6Kqg5bqm55yf55qE5b6I5a655piT6K6T6K6A6ICF55Si55Sf5YWx6bO077yBXG5cbuWmguaenOimgeaIkee4vee1kOeahOipse+8jOmAmeeorumiqOagvOWwseWDj+aYry4uLuWXry4uLuWDj+aYr+WcqOWSluWVoeW7s+i3n+S4gOWAi+aEm+aAneiAg+eahOaci+WPi+iBiuWkqe+8jOaXoui8lemshuWPiOacieWFp+Wuue+8jOaXouWAi+S6uuWMluWPiOS4jeacg+WkqumBjuengeWvhuOAgumAmeaoo+eahOW5s+ihoeaEn+WFtuWvpuigu+mbo+aLv+aNj+eahO+8jOS9humAmeS9jeS9nOiAheWBmuW+l+ecn+eahOW+iOS4jemMr++8gVxuXG7kvaDlgJHoprrlvpflkaLvvJ/mnInmspLmnInkuZ/ooqvpgJnnqK7opqrliIflj4jmnInmt7HluqbnmoTlr6vkvZzpoqjmoLzmiZPli5XlkaLvvJ8iLCLoq4vnlKjliIbmnpDlvoznmoTmlofpoqjmlLnlr6vku6XkuIvnmoTmlofnq6DvvIzoq4vnm7TmjqXmj5DkvpvmlLnlr6vlroznmoTlhaflrrnvvIzkuI3pnIDopoHlhbbku5bop6Pph4vmiJboqqrmmI7jgIJcblxuLS0tXG5cbiMg54K65LuA6bq8IEFJIOS4jeWkquaThemVt+WJteaEj++8n1xuXG7lpoLmnpzmg7Pnn6XpgZPngrrku4DpurwgQUkg5LiN5aSq5pOF6ZW35Ym15oSP77yM5oiR5YCR5b6X5YWI5LqG6Kej5LuA6bq85piv5Ym15oSP44CC5Ym15oSP5bCx5piv55Si55Sf5paw6bue5a2Q44CB6Kej5rG65ZWP6aGM5oiW5Ym15L2c5pyJ6Laj5L2c5ZOB55qE6IO95Yqb77yM5YyF5ZCr5Zub5YCL6Zec6Y2177ya5pyJ5Ym16YCg5Yqb55qE5Lq677yIIFBlcnNvbnMg77yJ77yM5LuW5YCR55qE54m56LOq5YOP5piv5aW95aWH5b+D5ZKM6ZaL5pS+5oCn77yb5Ym15oSP55qE6YGO56iL77yIIFByb2Nlc3NlcyDvvInvvIzkuZ/lsLHmmK/lpoLkvZXmiormg7Pms5Xlvp7ohabmtbfkuK3orormiJDnj77lr6bvvJvlibXkvZznmoTmiJDmnpzvvIggUHJvZHVjdHMg77yJ77yM5q+U5aaC5paw56mO5Y+I5a+m55So55qE5L2c5ZOB77yb5Lul5Y+K5Ym15oSP5omA6JmV55qE55Kw5aKD77yIIFByZXNzIC8gRW52aXJvbm1lbnQg77yJ77yM5YOP5piv5paH5YyW5rCb5ZyN5oiW56S+5pyD5pSv5oyB77yM6YCZ5Lqb5YWn5aSW5Zug57Sg6YO95pyD5b2x6Z+/5Ym15L2c44CCXG5cbuWboOeCuuWJteaEj+eahOWDueWAvOWcqOaWvOa7v+i2s+S6uueahOmcgOaxguaIlua/gOeZvOS6uueahOaDheaEn++8jOaJgOS7peWJteaEj+eahOaguOW/g+S4gOWumuWSjOS6uuWvhuWIh+ebuOmXnOOAgueEtuiAjO+8jEFJIOacrOizquS4iuWwseaYr+S4gOWAi+WfuuaWvOizh+aWmeWSjOa8lOeul+azleeahOW3peWFt++8jOmblueEtuiDveaooeS7v+WJteS9nOeahOW9ouW8j++8jOS9huW+iOmbo+ecn+ato+eQhuino+S6uumhnueahOmcgOaxguWSjOaDheaEn+OAguWboOatpO+8jEFJIOWcqOeZvOaPruWJteaEj+aWuemdouacieW5vuWAi+S4u+imgeeahOmZkOWItuOAglxuXG7pppblhYjvvIxBSSDnvLrkuY/lhaflnKjli5XmqZ/lkozpnIDmsYLlhbHps7TjgILlibXmhI/luLjluLjkvoboh6rkurrpoZ7lsI3llY/poYznmoTmlY/pirPmhJ/nn6XvvIzlkozlsI3op6PmsbrllY/poYznmoTnhrHmg4XoiIfov73msYLjgIJBSSDmspLmnInoh6rlt7HnmoTlhaflnKjli5XmqZ/miJblg7nlgLzop4DvvIzlroPlj6rmmK/moLnmk5rlt7LmnInnmoTos4fmlpnnlJ/miJDlhaflrrnvvIznhKHms5XnnJ/mraPnkIbop6Pngrrku4DpurzpnIDopoHlibXpgKDmn5DmqKPmnbHopb/jgIJcblxu5YW25qyh77yMQUkg5bGA6ZmQ5pa86LOH5paZ5ZKM5qGG5p6244CC5a6D55qE6IO95Yqb5Z+65pa85bey57aT6KiT57e06YGO55qE6LOH5paZ77yM5omA5Lul5a6D55qE5Ym15L2c5pu05YOP5piv5oqK5bey55+l5YWD57Sg6YeN5paw57WE5ZCI77yM6ICM5LiN5piv5Y6f5Ym15oCn55qE56qB56C044CC5a6D57y65LmP6Lez6ISr5pei5pyJ5qGG5p6255qE6IO95Yqb77yM54Sh5rOV55Si55Sf55yf5q2j5Luk5Lq66ama5Zac55qE5Ym15paw44CCXG5cbuatpOWklu+8jEFJIOe8uuS5j+aDheaEn+WSjOWDueWAvOWIpOaWt+OAguWJteaEj+eahOaIkOWKn++8jOS4jeWDheWPluaxuuaWvOaKgOihk+S4iueahOWujOe+ju+8jOmChOa2ieWPiuaWh+WMluiDjOaZr+OAgemBk+W+t+ingOW/teWSjOaDheaEn+WDueWAvOOAgumblueEtiBBSSDog73nlJ/miJDlhaflrrnvvIzkvYblroPkuI3nkIbop6PkurrpoZ7nmoTmlofljJbohIjntaHmiJbmg4XmhJ/pnIDmsYLvvIzlm6DmraTluLjluLjnvLrkuY/mt7HluqbmiJblhbHps7TjgIJcblxu5pyA5b6M77yMQUkg54Sh5rOV6Ieq5Li75o6i57Si5pyq55+l44CC5Lq66aGe5Ym15oSP55qE5LiA5aSn5L6G5rqQ5Zyo5pa85bCN5pyq55+l55qE5o6i57Si5ZKM5YaS6Zqq77yM6ICMIEFJIOWPquiDveWcqOePvuacieeahOizh+aWmeevhOWcjeWFp+mBi+S9nO+8jOeEoeazleS4u+WLleaMkeaIsOaIlueqgeegtOmAmeS6m+mZkOWItuOAglxuXG7lm6DmraTvvIzpm5bnhLYgQUkg5Y+v5Lul5Y2U5Yqp5Ym15L2c44CB5o+Q5Y2H5pWI546H5oiW5o+Q5L6b6Z2I5oSf77yM5L2G5a6D55qE44CM5Ym15oSP44CN5aeL57WC5Y+X6ZmQ5pa86LOH5paZ55qE56+E5ZyN5ZKM5Lq655qE5oyH5bCO44CC5Ym15oSP55qE5qC45b+D5piv6IiH5Lq66aGe6ZyA5rGC5ZKM5oOF5oSf55qE6YCj57WQ77yM6ICM6YCZ5q2j5pivIEFJIOeEoeazleWujOWFqOaOjOaPoeeahOmgmOWfn+OAgumAmeS5n+ino+mHi+S6hueCuuS7gOm6vOecn+ato+eahOWJteaEj+S7jemcgOimgeS6uumhnueahOWPg+iIh+WSjOW8leWwjuOAgiIsIiMg54K65LuA6bq8IEFJIOS4jeWkquaThemVt+WJteaEj++8n1xuXG7mnIDov5HlnKjot5/mnIvlj4vogYrlpKnmmYLvvIzluLjluLjmnIPoqI7oq5bliLAgQUkg5Ym15oSP55qE6Kmx6aGM44CC5q+P5qyh6IGK5Yiw6YCZ5YCL77yM5oiR6YO95pyD5oOz5Yiw5LiA5YCL5pyJ6Laj55qE5ZWP6aGM77ya54K65LuA6bq8IEFJIOWlveWDj+e4veaYr+eEoeazleWBmuWHuuecn+ato+S7pOS6uumpmuixlOeahOWJteaEj+S9nOWTgeWRou+8n1xuXG7orpPmiJHlgJHlhYjogYrogYrku4DpurzmmK/libXmhI/lkKfjgILlhbblr6blibXmhI/pgJnku7bkuovvvIzoqqrnsKHllq7kuZ/nsKHllq7vvIzoqqropIfpm5zkuZ/opIfpm5zjgILlroPljIXlkKvkuoblm5vlgIvph43opoHnmoTlhYPntKDvvJrlibXkvZznmoTkurrjgIHlibXkvZznmoTpgY7nqIvjgIHlibXkvZznmoTmiJDmnpzvvIzpgoTmnInlibXkvZzmmYLnmoTnkrDlooPjgILlsLHlg4/miJHlgJHlnKjlr6vmlofnq6DmmYLvvIzpnIDopoHmnInpnYjmhJ/jgIHpnIDopoHmnInlr6vkvZznmoTpgY7nqIvvvIzmnIDlvozmiY3og73nlKLlh7rkvZzlk4HvvIzogIzmiJHlgJHnmoTlv4Pmg4Xlkozlkajpga3nkrDlooPpg73mnIPlvbHpn7/libXkvZzjgIJcblxu5L2G5L2g55+l6YGT5ZeO77yf5Ym15oSP5pyA5qC45b+D55qE5YW25a+m5piv44CM5Lq644CN44CC5Zug54K65Ym15oSP6KaB6IO95omT5YuV5Lq65b+D77yM5ru/6Laz5Lq655qE6ZyA5rGC44CC6YCZ5bCx5piv54K65LuA6bq8IEFJIOWcqOWJteaEj+mAmeWhiue4veaYr+W3rumCo+m6vOS4gOm7num7niDigJTigJQg5a6D57WC56m25Y+q5piv5YCL5bel5YW377yM5piv5oyJ54Wn6LOH5paZ5ZKM6KaP5YmH5Zyo6YGL5L2c55qE56iL5byP44CCXG5cbuaIkeingOWvn+WIsCBBSSDlnKjlibXmhI/mlrnpnaLmnInlub7lgIvmmI7poa/nmoTpmZDliLbvvJpcblxu6aaW5YWI77yMQUkg5rKS5pyJ55yf5q2j55qE44CM5oOz6KaB44CN44CC5L2g5pyJ5rKS5pyJ55m854++77yM5oiR5YCR5Lq66aGe5Ym15L2c5pmC5bi45bi45piv5Zug54K644CM5oOz6KaB44CN6Kej5rG65LuA6bq85ZWP6aGM77yM5oiW5piv44CM5oOz6KaB44CN6KGo6YGU5LuA6bq85oSf5Y+X44CC5L2GIEFJIOS4jeacg+ecn+eahOOAjOaDs+imgeOAjeS7gOm6vO+8jOWug+WPquaYr+aMieeFp+aMh+ekuuihjOS6i+OAglxuXG7lho3kvobvvIxBSSDlsLHlg4/mmK/ooqvpl5zlnKjkuIDlgIvnn6XorZjnmoTnsaDlrZDoo6HjgILlroPlj6rog73nlKjlt7LntpPlrbjpgY7nmoTmnbHopb/kvoblibXkvZzvvIzlsLHlg4/mmK/lnKjnjqnmi7zlnJbkuIDmqKPvvIzlj6rog73ph43mlrDntYTlkIjnj77mnInnmoTniYfmrrXjgILopoHlroPmg7Plh7rlrozlhajmlrDnmoTmnbHopb/vvJ/lvojpm6PjgIJcblxu6YKE5pyJ5LiA6bue5b6I6YeN6KaB77yaQUkg5LiN5oeC5b6X5oSf5Y+X44CC6ZuW54S25a6D5Y+v5Lul55Si55Sf55yL6LW35L6G5b6I5a6M576O55qE5L2c5ZOB77yM5L2G5a6D5LiN55CG6Kej5Lq66aGe55qE5Zac5oCS5ZOA5qiC77yM5Lmf5LiN5oeC5b6X5paH5YyW5Lit55qE57Sw5b6u5beu5Yil44CC6YCZ5bCx5YOP5piv5LiA5YCL5aSW5ZyL5Lq65Zyo6Kyb5Lit5paH56yR6Kmx77yM5Y2z5L2/5paH5rOV5a6M5YWo5q2j56K677yM5L2G57i95piv5bCR5LqG6YKj5YCL44CM5ZGz6YGT44CN44CCXG5cbuacgOW+jO+8jEFJIOS4jeacg+S4u+WLleWOu+aOoue0ouacquefpeeahOmgmOWfn+OAguWJteaEj+W4uOW4uOS+huiHquaWvOaIkeWAkeWLh+aWvOWYl+ippuaWsOS6i+eJqe+8jOS9hiBBSSDlj6rmnIPlnKjml6LlrprnmoTnr4TlnI3lhafmiZPovYnvvIzkuI3mnIPoqqrjgIzmrLjvvIzmiJHmg7PoqaboqabnnIvpgJnlgIvlrozlhajkuI3kuIDmqKPnmoTmlrnlkJHjgI3jgIJcblxu5omA5Lul5ZWK77yM6ZuW54S2IEFJIOeiuuWvpuiDveW5q+aIkeWAkeWBmuW+iOWkmuS6i++8jOS9huWcqOWJteaEj+mAmeWhiu+8jOWug+avlOi8g+WDj+aYr+WAi+WlveWKqeaJi++8jOiAjOS4jeaYr+ecn+ato+eahOWJteS9nOiAheOAguecn+ato+eahOWJteaEj+mChOaYr+mcgOimgeS6uueahOWPg+iIh++8jOmcgOimgeaIkeWAkeeahOaDs+WDj+WKm+WSjOaEn+WPl+WKm+OAglxuXG7kvaDlgJHoprrlvpflkaLvvJ/mnInmspLmnInkuZ/pgYfpgY4gQUkg5Ym15oSP5L2c5ZOB6K6T5L2g6Ka65b6X44CM5beu5LqG6YKj6bq85LiA6bue44CN55qE57aT6amX77yfIl1dfQ==">
                        一般範例
                    </a>
                    <a class="btn btn-dark btn-sm" role="button"
                        href="./flow.html#data/eyJkZXNjcmlwdGlvbiI6IuevhOS+i+evhOS+i+evhOS+iyIsIm5hbWUiOiLnr4TkvosiLCJ0ZW1wZXJhdHVyZXMiOlsiMC4xIiwiMC4zIl0sImV4ZWN1dGUiOiI1IiwicHJvbXB0cyI6WyJ7e+evgOaXpX1955qEe3voqp7oqIB9fSIsIuWKoOWFpemAmeWAi+WWruWtl++8jOW5q+aIkemAoHt75pW46YePfX3lgIvku6V7e+WLleeJqX1954K65Li76aGM55qE5Y+l5a2Q44CCIl0sImtleXdvcmRzIjpbeyJ7e+evgOaXpX19IjpbIuaDheS6uuevgCIsIuS4reeni+evgCIsIuiBluiqleevgCJdLCJ7e+iqnuiogH19IjpbIuaXpeaWhyIsIuiLseaWhyJdfSx7Int75pW46YePfX0iOlsi5LiAIiwi5LqMIiwi5LiJIl0sInt75YuV54mpfX0iOlsi5YWU5a2QIiwi542F5a2QIl19XSwicmVzdWx0IjpbWyLkuK3np4vnr4DnmoTml6XmlociLCLkuK3np4vnr4DlnKjml6XmlofkuK3mnInku6XkuIvlub7nqK7ooajpgZTmlrnlvI/vvJpcblxuMS4g5Y2B5LqU5aSc77yI44GY44KF44GG44GU44KE77yJXG4tIOacgOW4uOeUqOeahOiqquazlVxuLSDnm7Tora/ngrrjgIzljYHkupTlpJzjgI3vvIzlm6DngrrovrLmm4blhavmnIjljYHkupTml6XnmoTmmZrkuIrmnIjkuq7mnIDlnJNcblxuMi4g5Lit56eL44Gu5ZCN5pyI77yI44Gh44KF44GG44GX44KF44GG44Gu44KB44GE44GS44Gk77yJXG4tIOi8g+ato+W8j+eahOiqquazlVxuLSDmhI/mgJ3mmK/jgIzkuK3np4vnmoTmmI7mnIjjgI1cblxuMy4g44GK5pyI6KaL77yI44GK44Gk44GN44G/77yJXG4tIOazm+aMh+iznuaciOeahOa0u+WLlVxuLSDlnKjkuK3np4vnr4DpgJnlpKnmnIDngrrluLjopotcblxu55u46Zec55qE5YKz57Wx57+S5L+X77yaXG4tIOaTuuaUvuaciOimi+Wbo+WtkO+8iOOBpOOBjeOBv+OBoOOCk+OBlO+8ie+8mueZveiJsuWck+W9ouezr+exs+ezsOWtkFxuLSDlsZXnpLrnp4vlraPmpI3nianvvIzlpoLoipLojYnvvIjjgrnjgrnjgq3vvIlcbi0g5L6b5aWJ5pyI6KaL6aWF6aCt5ZKM5rC05p6cXG4tIOiIieihjOiznuaciOacg1xuXG7lnKjml6XmnKzvvIzkuK3np4vnr4DkuLvopoHmmK/ku6Xos57mnIjngrrkuLvopoHmtLvli5XvvIzkuI3lkIzmlrzkuK3lnIvlgrPntbHnmoTlnJjlnJPnr4Dml6XmgKfos6rjgIIiLCLliqDlhaXpgJnlgIvllq7lrZfvvIzluavmiJHpgKDkuozlgIvku6XlhZTlrZDngrrkuLvpoYznmoTlj6XlrZDjgIIiLCLlhZTlrZDlnKjml6XmlofkuK3mmK/jgIzjgYbjgZXjgY7jgI0odXNhZ2kpXG5cbuS7peS4i+aYr+WFqeWAi+S7peWFlOWtkOeCuuS4u+mhjOeahOWPpeWtkO+8mlxuXG4xLiDljYHkupTlpJzjgavjgIHjgYbjgZXjgY7jgYzmnIjjgafjgYrppIXjgpLjgaTjgYTjgabjgYTjgovjgojjgYbjgavopovjgYjjgb7jgZnjgIJcbijjgZjjgoXjgYbjgZTjgoTjgavjgIHjgYbjgZXjgY7jgYzjgaTjgY3jgafjgYrjgoLjgaHjgpLjgaTjgYTjgabjgYTjgovjgojjgYbjgavjgb/jgYjjgb7jgZnjgIIpXG7mhI/mgJ3mmK/vvJrlnKjkuK3np4vlpJzvvIznnIvotbfkvoblg4/mmK/mnInlhZTlrZDlnKjmnIjkuq7kuIrmkJfpurvns6zjgIJcbijpgJnlj6XoqbHmupDoh6rml6XmnKzmsJHplpPlgrPoqqrvvIzoqo3ngrrmnIjkuq7kuIrmnInpmrvlhZTlrZDlnKjmkJfpurvns6wpXG5cbjIuIOOBiuaciOimi+OBruWknOOAgeWtkOS+m+OBn+OBoeOBr+OBhuOBleOBjuOBruW9ouOCkuOBl+OBn+aciOimi+Wbo+WtkOOCkumjn+OBueOBvuOBl+OBn+OAglxuKOOBiuOBpOOBjeOBv+OBruOCiOOCi+OAgeOBk+OBqeOCguOBn+OBoeOBr+OBhuOBleOBjuOBruOBi+OBn+OBoeOCkuOBl+OBn+OBpOOBjeOBv+OBoOOCk+OBlOOCkuOBn+OBueOBvuOBl+OBn+OAgilcbuaEj+aAneaYr++8muWcqOiznuaciOS5i+WknO+8jOWtqeWtkOWAkeWQg+S6huWFlOWtkOW9oueLgOeahOaciOimi+ezsOWtkOOAglxuXG7pgJnkupvlj6XlrZDntZDlkIjkuobkuK3np4vnr4DvvIjjgYrmnIjoposv5Y2B5LqU5aSc77yJ5ZKM5YWU5a2Q77yI44GG44GV44GO77yJ55qE5YWD57Sg77yM5Y+N5pig5LqG5pel5pys5paH5YyW5Lit5pyI5Lqu6IiH5YWU5a2Q55qE6YCj57WQ44CCIl0sWyLmg4Xkurrnr4DnmoToi7HmlociLCLmg4Xkurrnr4DnmoToi7HmlofmmK8gXCJWYWxlbnRpbmUncyBEYXlcIu+8jOmAmuW4uOewoeWvq+eCuiBcIlYtRGF5XCLjgIJcblxu6YCZ5YCL56+A5pel5Zyo5q+P5bm055qEIDIg5pyIIDE0IOaXpeaFtuelneOAglxuXG7nm7jpl5znmoToi7HmlofoqZ7lvZnvvJpcbjEuIFZhbGVudGluZSA9IOaDheS6ulxuMi4gVmFsZW50aW5lJ3MgY2FyZCA9IOaDheS6uuevgOizgOWNoVxuMy4gTXkgVmFsZW50aW5lID0g5oiR55qE5oOF5Lq6XG40LiBCZSBteSBWYWxlbnRpbmUgPSDlgZrmiJHnmoTmg4XkurpcbjUuIEhhcHB5IFZhbGVudGluZSdzIERheSA9IOaDheS6uuevgOW/q+aoglxuXG7mg4Xkurrnr4DluLjopovnmoToi7HmlofooajpgZTvvJpcbi0gV2lsbCB5b3UgYmUgbXkgVmFsZW50aW5lPyAo5L2g6aGY5oSP5YGa5oiR55qE5oOF5Lq65ZeO77yfKVxuLSBTZW5kaW5nIHlvdSBsb3ZlIG9uIFZhbGVudGluZSdzIERheSAo5Zyo5oOF5Lq656+A5ZCR5L2g6YCB5LiK5oSbKVxuLSBIYXBweSBWYWxlbnRpbmUncyBEYXksIHN3ZWV0aGVhcnQhICjopqrmhJvnmoTvvIzmg4Xkurrnr4Dlv6vmqILvvIEpIiwi5Yqg5YWl6YCZ5YCL5Zau5a2X77yM5bmr5oiR6YCg5LiA5YCL5Lul542F5a2Q54K65Li76aGM55qE5Y+l5a2Q44CCIiwi6K6T5oiR55SoIFwiVmFsZW50aW5lJ3MgRGF5XCIg5ZKM542F5a2Q6YCg5Y+l77yaXG5cbjEuIFRoZSB0d28gbGlvbnMgYXQgdGhlIHpvbyBzaGFyZWQgYSBzcGVjaWFsIFZhbGVudGluZSdzIERheSBtZWFsIG9mIGhlYXJ0LXNoYXBlZCBtZWF0LlxuKOWLleeJqeWckuijoeeahOWFqemau+eNheWtkOWIhuS6q+S6huS4gOmgk+eJueWIpeeahOaDheS6uuevgOWkp+mkkO+8jOmCo+aYr+W/g+W9oueahOiCiSlcblxuMi4gT24gVmFsZW50aW5lJ3MgRGF5LCB0aGUgbWFsZSBsaW9uIGJyb3VnaHQgaGlzIGxpb25lc3MgYSBmcmVzaCBjYXRjaCB0byBzaG93IGhpcyBsb3ZlLlxuKOWcqOaDheS6uuevgOmAmeWkqe+8jOWFrOeNheWtkOeCuuS6huihqOmBlOaEm+aEj++8jOe1puavjeeNheWtkOW4tuS+huS6huaWsOmurueahOeNteeJqSlcblxuMy4gVGhlIHpvb2tlZXBlciBwcmVwYXJlZCBhIFZhbGVudGluZSdzIERheSBzdXJwcmlzZSBmb3IgdGhlIGxvbmVseSBsaW9uIGJ5IGRlY29yYXRpbmcgaGlzIGVuY2xvc3VyZSB3aXRoIHJlZCByaWJib25zLlxuKOeuoeeQhuWToeeCuuWtpOWWrueahOeNheWtkOa6luWCmeS6huaDheS6uuevgOmpmuWWnO+8jOeUqOe0hee1suW4tuijnemjvuS6hueJoOeahOWcjeashClcblxu6YCZ5Lqb5Y+l5a2Q6YO957WQ5ZCI5LqG542F5a2Q5ZKM5oOF5Lq656+A55qE5YWD57Sg77yM5biM5pyb5bCN5L2g5pyJ5bmr5Yqp77yBIl0sWyLogZboqpXnr4DnmoTml6XmlociLCLogZboqpXnr4DnmoTml6XmlofmmK/jgIzjgq/jg6rjgrnjg57jgrnjgI0oS3VyaXN1bWFzdSnvvIzkuZ/lj6/ku6Xlr6vkvZzjgIzogZboqpXnpa3jgI0o44Gb44GE44Gf44KT44GV44GELCBTZWl0YW5zYWkp44CCXG5cbuS4gOS6m+ebuOmXnOeahOaXpeaWh+ipnuW9me+8mlxuLSDjgq/jg6rjgrnjg57jgrnjg4Tjg6rjg7wgKEt1cmlzdW1hc3UgdHN1csSrKSA9IOiBluiqleaouVxuLSDjgq/jg6rjgrnjg57jgrnjgrHjg7zjgq0gKEt1cmlzdW1hc3Uga8STa2kpID0g6IGW6KqV6JuL57OVXG4tIOOCr+ODquOCueODnuOCueODl+ODrOOCvOODs+ODiCAoS3VyaXN1bWFzdSBwdXJlemVudG8pID0g6IGW6KqV56au54mpXG4tIOOCteODs+OCv+OCr+ODreODvOOCuSAoU2FudGEga3VyxY1zdSkgPSDogZboqpXogIHkurpcbi0g44Oh44Oq44O844Kv44Oq44K544Oe44K5IChNZXLEqyBLdXJpc3VtYXN1KSA9IOiBluiqleW/q+aoglxuLSDjgq/jg6rjgrnjg57jgrnjgqTjg5YgKEt1cmlzdW1hc3UgaWJ1KSA9IOW5s+WuieWknFxuLSDjgq/jg6rjgrnjg57jgrnjgqvjg7zjg4kgKEt1cmlzdW1hc3Uga8SBZG8pID0g6IGW6KqV5Y2hXG5cbuWcqOaXpeacrO+8jOiBluiqleevgOmblueEtuS4jeaYr+azleWumuWBh+aXpe+8jOS9huS7jeeEtuaYr+S4gOWAi+WPl+atoei/jueahOevgOaXpe+8jOeJueWIpeaYr+W5tOi8leS6uuacg+aKiuWug+eVtuS9nOa1qua8q+eahOevgOaXpeS+huaFtuelneOAgiIsIuWKoOWFpemAmeWAi+WWruWtl++8jOW5q+aIkemAoOS4ieWAi+S7peWFlOWtkOeCuuS4u+mhjOeahOWPpeWtkOOAgiIsIuS9v+eUqOOAjOOBhuOBleOBjuOAjSh1c2FnaSA9IOWFlOWtkCkg6YCg5Y+l77yaXG5cbjEuIOOBk+OBruOBhuOBleOBjuOBr+eZveOBj+OBpuOBi+OCj+OBhOOBhOOBp+OBmeOAglxuKEtvbm8gdXNhZ2kgd2Egc2hpcm9rdXRlIGthd2FpaSBkZXN1LilcbumAmemau+WFlOWtkOWPiOeZveWPiOWPr+aEm+OAglxuXG4yLiDjgYbjgZXjgY7jga/kurrlj4LjgYzlpKflpb3jgY3jgafjgZnjgIJcbihVc2FnaSB3YSBuaW5qaW4gZ2EgZGFpc3VraSBkZXN1LilcbuWFlOWtkOW+iOWWnOatoeWQg+iDoeiYv+iUlOOAglxuXG4zLiDluq3jgafjgYbjgZXjgY7jgYzpo5vjgbPot7Pjga3jgabjgYTjgb7jgZnjgIJcbihOaXdhIGRlIHVzYWdpIGdhIHRvYmloYW5ldGVtYXN1LilcbuWFlOWtkOWcqOiKseWckuijoei5pui5pui3s+i3s+OAglxuXG7pgJnkupvlj6XlrZDpg73lvojln7rnpI7vvIzlrrnmmJPnkIbop6PvvIzpganlkIjliJ3lrbjogIXlrbjnv5LjgILmr4/lgIvlj6XlrZDpg73mj4/ov7DkuoblhZTlrZDnmoTkuI3lkIznibnlvrXmiJbooYzngrrjgIIiXSxbIuS4reeni+evgOeahOiLseaWhyIsIuS4reeni+evgOeahOiLseaWh+acieW5vueoruihqOmBlOaWueW8j++8mlxuXG4xLiBNaWQtQXV0dW1uIEZlc3RpdmFsICjmnIDluLjnlKgpXG4yLiBNb29uIEZlc3RpdmFsXG4zLiBNb29uY2FrZSBGZXN0aXZhbFxuXG7oo5zlhYXoqqrmmI7vvJpcbi0gTWlkLUF1dHVtbiBGZXN0aXZhbCDmmK/mnIDmraPlvI/lkozmnIDluLjnlKjnmoToi7HmloflkI3nqLFcbi0gTW9vbiBGZXN0aXZhbCDovIPngrrnsKHnn63vvIzkuZ/lvojluLjopotcbi0gTW9vbmNha2UgRmVzdGl2YWwg5YmH5by36Kq/6YCZ5YCL56+A5pel5ZCD5pyI6aSF55qE5YKz57WxXG5cbumAmeWAi+evgOaXpemAmuW4uOWcqOi+suabhuWFq+aciOWNgeS6lOaXpe+8jOaYr+iPr+S6uueahOmHjeimgeWCs+e1seevgOaXpeS5i+S4gOOAguWcqOiLseaWh+aPj+i/sOS4re+8jOW4uOacg+aPkOWIsO+8mlxuLSDos57mnIggKG1vb24gdmlld2luZy9tb29uIGdhemluZylcbi0g5ZCD5pyI6aSFIChlYXRpbmcgbW9vbmNha2VzKVxuLSDlrrbkurrlnJjogZogKGZhbWlseSByZXVuaW9uKVxuLSDnh4jnsaAgKGxhbnRlcm5zKVxuXG7kvovlj6XvvJpcblwiVGhlIE1pZC1BdXR1bW4gRmVzdGl2YWwgaXMgb25lIG9mIHRoZSBtb3N0IGltcG9ydGFudCB0cmFkaXRpb25hbCBmZXN0aXZhbHMgaW4gQ2hpbmVzZSBjdWx0dXJlLlwiXG4o5Lit56eL56+A5piv5Lit5ZyL5paH5YyW5Lit5pyA6YeN6KaB55qE5YKz57Wx56+A5pel5LmL5LiA44CCKSIsIuWKoOWFpemAmeWAi+WWruWtl++8jOW5q+aIkemAoOS6jOWAi+S7peeNheWtkOeCuuS4u+mhjOeahOWPpeWtkOOAgiIsIlwiTGlvblwiIOmAmeWAi+WWruWtl+WPr+S7peeUqOS+humAoOS7peS4i+WPpeWtkO+8mlxuXG4xLiBcIlRoZSBtYWplc3RpYyBsaW9uIGlzIGtub3duIGFzIHRoZSBraW5nIG9mIHRoZSBqdW5nbGUuXCJcbijlqIHmrabnmoTnjYXlrZDooqvnqLHngrrlj6LmnpfkuYvnjovjgIIpXG5cbjIuIFwiQSBtYWxlIGxpb24ncyByb2FyIGNhbiBiZSBoZWFyZCBmcm9tIHVwIHRvIDUgbWlsZXMgYXdheS5cIlxuKOWFrOeNheeahOWQvOWPq+iBsuWPr+S7peWCs+WIsDXoi7Hph4zpgaDnmoTlnLDmlrnjgIIpXG5cbumhjeWkluijnOWFhe+8mlxu5aaC5p6c5L2g5oOz6KaB5pu05aSa5pyJ6Zec542F5a2Q55qE5Y+l5a2Q77yM6YCZ6KOh6YKE5pyJ77yaXG5cbjMuIFwiTGlvbnMgbGl2ZSBpbiBncm91cHMgY2FsbGVkIHByaWRlcy5cIlxuKOeNheWtkOe+pOWxheeUn+a0u++8jOmAmeaoo+eahOe+pOmrlOiiq+eoseeCuueNhee+pOOAgilcblxuNC4gXCJGZW1hbGUgbGlvbnMgZG8gbW9zdCBvZiB0aGUgaHVudGluZyBmb3IgdGhlIHByaWRlLlwiXG4o6ZuM542F6LKg6LKs542F576k5aSn6YOo5YiG55qE54216aOf5bel5L2c44CCKVxuXG7pgJnkupvlj6XlrZDpg73kvb/nlKjkuobnsKHllq7nmoToqp7ms5XntZDmp4vvvIzlrrnmmJPnkIbop6PlkozoqJjmhrbjgIIiXSxbIuaDheS6uuevgOeahOaXpeaWhyIsIuaDheS6uuevgOWcqOaXpeaWh+S4reacieS7peS4i+W5vueoruihqOmBlOaWueW8j++8mlxuXG4xLiDjg5Djg6zjg7Pjgr/jgqTjg7Pjg4fjg7wgKEJhcmVudGFpbiBkxJMpXG4tIOacgOW4uOeUqOeahOiqquazlVxuLSDmupDoh6roi7HmlocgXCJWYWxlbnRpbmUncyBEYXlcIlxuXG4yLiDogZbjg5Djg6zjg7Pjgr/jgqTjg7Pjg4fjg7wgKFNlaSBCYXJlbnRhaW4gZMSTKVxuLSDlrozmlbToqqrms5Vcbi0g44CM6IGW44CN5oSP54K6IFwiU2FpbnRcIlxuXG4zLiDjg5Djg6zjg7Pjgr/jgqTjg7MgKEJhcmVudGFpbilcbi0g57Ch55Wl6Kqq5rOVXG5cbuWcqOaXpeacrO+8jOaDheS6uuevgOacieeJueWIpeeahOe/kuS/l++8mlxuLSAy5pyIMTTml6XmmK/lpbPmgKfpgIHlt6flhYvlipvntabnlLfmgKfnmoTml6XlrZBcbi0gM+aciDE05pel56ix54K644Ob44Ov44Kk44OI44OH44O8IChXaGl0ZSBEYXkp77yM5piv55S35oCn5Zue56au55qE5pel5a2QXG5cbuW3p+WFi+WKm+WIhueCuuWFqeeoru+8mlxuLSDmnKzlkb3jg4Hjg6fjgrMgKEhvbm1laSBjaG9jbykgLSDpgIHntabmiIDkurrnmoTlt6flhYvliptcbi0g576p55CG44OB44On44KzIChHaXJpIGNob2NvKSAtIOmAgee1puWQjOS6i+OAgeaci+WPi+etieeahOe+qeWLmeaAp+W3p+WFi+WKmyIsIuWKoOWFpemAmeWAi+WWruWtl++8jOW5q+aIkemAoOS4gOWAi+S7peWFlOWtkOeCuuS4u+mhjOeahOWPpeWtkOOAgiIsIuS9v+eUqOOAjOODkOODrOODs+OCv+OCpOODs+ODh+ODvOOAje+8iOaDheS6uuevgO+8iemAoOS4gOWAi+S7peWFlOWtkOeCuuS4u+mhjOeahOWPpeWtkO+8mlxuXG7jg5Djg6zjg7Pjgr/jgqTjg7Pjg4fjg7zjgavjgIHnmb3jgYbjgZXjgY7jgYzjg5Tjg7Pjgq/jga7jg6rjg5zjg7PjgpLjgaTjgZHjgZ/jg4Hjg6fjgrPjg6zjg7zjg4jjgpLmjIHjgaPjgabjgY3jgb7jgZfjgZ/jgIJcbihCYXJlbnRhaW4gZMSTIG5pLCBzaGlybyB1c2FnaSBnYSBwaW5rdSBubyByaWJvbiB3byB0c3VrZXRhIGNob2tvcsSTdG8gd28gbW90dGUga2ltYXNoaXRhLilcblxu5Lit5paH5oSP5oCd77yaXG7lnKjmg4Xkurrnr4DpgqPlpKnvvIznmb3lhZTluLbkvobkuobntoHokZfnsonntIXntbLluLbnmoTlt6flhYvlipvjgIJcblxu6KOc5YWF6Kqq5piO77yaXG4tIOeZveOBhuOBleOBjiAoc2hpcm8gdXNhZ2kpID0g55m95YWUXG4tIOODlOODs+OCryAocGlua3UpID0g57KJ57SF6ImyXG4tIOODquODnOODsyAocmlib24pID0g57Wy5bi2XG4tIOODgeODp+OCs+ODrOODvOODiCAoY2hva29yxJN0bykgPSDlt6flhYvliptcblxu6YCZ5YCL5Y+l5a2Q57WQ5ZCI5LqG5oOF5Lq656+A6YCB5ben5YWL5Yqb55qE5YKz57Wx5ZKM5Y+v5oSb55qE5YWU5a2Q5b2i6LGh44CCIl1dfQ==">
                        進階範例
                    </a>
                </div>
                <div class="d-flex flex-md-row flex-column mb-2 mb-md-0 ">
                    <a class="btn btn-dark btn-sm w-100 mb-2 mb-md-0 me-md-2" href="./index.html" role="button">
                        製作模板
                    </a>
                    <a class="btn btn-dark btn-sm w-100 mb-2 mb-md-0 me-md-2 disabled" href="./flow.html" role="button">
                        製作流程
                    </a>
                    <a class="btn btn-dark btn-sm w-100" href="./explore.html" role="button">
                        作者收藏
                    </a>
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-12">
                <h2 class="fs-6 mb-3 fw-bold">開始製作</h2>
            </div>
            <div class="col-12 mb-2">
                <input type="text" class="form-control border-dark p-3" id="name-input" placeholder="請填寫流程名稱" value="">
            </div>
            <div class="col-12 mb-3">
                <textarea class="form-control border-dark p-3" id="description-textarea" placeholder="請填寫流程說明"
                    rows="5"></textarea>
            </div>
            <div class="col-12">
                <button id="add-btn" type="button" class="btn btn-dark btn-sm">增加流程</button>
                <button id="remove-btn" type="button" class="btn btn-dark btn-sm">減少流程</button>
            </div>
        </div>
        <div class="accordion mb-3" id="accordionContainer">
            <div class="accordion-item border-dark">
                <h2 class="accordion-header" id="heading0">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapse0" aria-expanded="false" aria-controls="collapse0">
                        使用前請設定要使用的 AI 服務
                    </button>
                </h2>
                <div id="collapse0" class="accordion-collapse collapse" aria-labelledby="heading0">
                    <div class="accordion-body p-4">
                        <div class="mb-3">
                            <label for="openaiApikeyInput" class="form-label">設定 OpenAI</label>
                            <input class="form-control border-dark" id="openai-apikey-input" placeholder="請填寫 API 金鑰">
                        </div>
                        <div class="mb-3">
                            <label for="anthropicApikeyInput" class="form-label">設定 Anthropic</label>
                            <input class="form-control border-dark" id="anthropic-apikey-input"
                                placeholder="請填寫 API 金鑰">
                        </div>
                        <div class="mb-3">
                            <label for="deepseekApikeyInput" class="form-label">設定 DeepSeek</label>
                            <input class="form-control border-dark" id="deepseek-apikey-input" placeholder="請填寫 API 金鑰">
                        </div>
                        <div class="mb-3">
                            <label for="provideSelect" class="form-label">選擇要使用的服務</label>
                            <select class="form-select border-dark" id="provide-select"></select>
                        </div>
                        <div>
                            <label for="execute-input" class="form-label">執行次數：</label>
                            <input type="range" class="form-range" min="1" max="20" step="1" value="1"
                                id="execute-input">
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item border-dark">
                <h2 class="accordion-header" id="heading1">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
                        提示詞流程 #1
                    </button>
                </h2>
                <div id="collapse1" class="accordion-collapse collapse" aria-labelledby="heading1">
                    <div class="accordion-body p-4">
                        <textarea class="form-control p-3 border-dark" id="formControlTextarea1"
                            placeholder="寫點提示詞吧！">hi</textarea>
                        <div class="d-flex mt-3 border border-1 border-dark rounded px-2 py-3">
                            <div style="width: 150px; text-align: center;">嚴謹回覆</div>
                            <input class="form-range temperature-input" min="0" max="1" step="0.1" value="0.3"
                                type="range">
                            <div style="width: 150px; text-align: center;">創意回覆</div>
                        </div>
                        <div class="w-100 mt-3 d-md-block d-none">
                            <button type="button" class="btn btn-dark w-100 add-taginput-btn">加入每次執行要替換文字</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-3">
            <button type="button" class="btn btn-dark w-100" id="send-btn" disabled>送出</button>
        </div>
        <div class="mb-3">
            <div class="row">
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <button id="clear-btn" type="button" class="w-100 btn btn-dark">刪除全部流程</button>
                </div>
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <button id="reset-btn" type="button" class="w-100 btn btn-dark">刪除全部回覆</button>
                </div>
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <button id="close-btn" type="button" class="w-100 btn btn-dark">折疊全部回覆</button>
                </div>
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <button id="save-btn" type="button" class="w-100 btn btn-dark">產生分享連結</button>
                </div>
            </div>
        </div>
        <div class="col-12">
            <div id="save-link-section"></div>
        </div>

        <div class="mb-5" id="result"></div>
    </div>
    <footer class="mt-auto text-white-50 bg-dark text-center d-flex justify-content-center align-items-center"
        style="height: 50px;">
        <a class="mx-2 link-light" target="_blank" href="https://x.com/lloyd3126">
            Made by Chen Chung Nien
        </a>
        <a class="mx-2 link-light" target="_blank" href="https://prompter.fofr.ai/">
            Inspired by @fofrAI
        </a>
        <a class="mx-2 link-light" target="_blank" href="https://buymeacoffee.com/niencc">
            Buy me a coffee
        </a>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.1.0/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify"></script>
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>
    <script>


        const md = window.markdownit();
        let mdResult = "";
        let replyArr = []

        // 定義服務提供商選項
        const providerOptions = {
            openai: [
                { value: 'openai:gpt-4o', text: 'OpenAI: gpt-4o' },
                { value: 'openai:gpt-4o-mini', text: 'OpenAI: gpt-4o-mini' }
            ],
            anthropic: [
                { value: 'anthropic:claude-3-5-sonnet-latest', text: 'Anthropic: claude-3.5-sonnet-latest' },
                { value: 'anthropic:claude-3-5-haiku-latest', text: 'Anthropic: claude-3.5-haiku-latest' }
            ],
            deepseek: [
                { value: 'deepseek:deepseek-chat', text: 'DeepSeek: deepseek-chat' }
            ]
        };

        function clearSaveLinkSection() {
            document.getElementById("save-link-section").innerHTML = "";
        }
        // 更新提供商選項的函數
        function updateProviderOptions() {
            const select = document.getElementById('provide-select');
            select.innerHTML = ''; // 清空現有選項

            const openaiKey = document.getElementById('openai-apikey-input').value.trim();
            const anthropicKey = document.getElementById('anthropic-apikey-input').value.trim();
            const deepseekKey = document.getElementById('deepseek-apikey-input').value.trim();

            // 根據 API key 添加對應選項
            if (openaiKey) {
                providerOptions.openai.forEach(option => {
                    const opt = document.createElement('option');
                    opt.value = option.value;
                    opt.textContent = option.text;
                    select.appendChild(opt);
                });
            }

            if (anthropicKey) {
                providerOptions.anthropic.forEach(option => {
                    const opt = document.createElement('option');
                    opt.value = option.value;
                    opt.textContent = option.text;
                    select.appendChild(opt);
                });
            }

            if (deepseekKey) {
                providerOptions.deepseek.forEach(option => {
                    const opt = document.createElement('option');
                    opt.value = option.value;
                    opt.textContent = option.text;
                    select.appendChild(opt);
                });
            }

            // 如果沒有任何選項,添加一個提示選項
            if (select.options.length === 0) {
                const opt = document.createElement('option');
                opt.value = '';
                opt.textContent = '請先填寫 API KEY';
                opt.disabled = true;
                select.appendChild(opt);
            }
        }

        // 修改後的 checkApiKey 函數
        function checkApiKey() {
            const sendBtn = document.getElementById("send-btn");
            const openaiKey = document.getElementById("openai-apikey-input").value.trim();
            const anthropicKey = document.getElementById("anthropic-apikey-input").value.trim();
            const deepseekKey = document.getElementById("deepseek-apikey-input").value.trim();

            // 只要有任一 API key 被填寫即可啟用發送按鈕
            const hasValidKey = openaiKey !== "" || anthropicKey !== "" || deepseekKey !== "";

            // 啟用或禁用發送按鈕
            sendBtn.disabled = !hasValidKey;
        }

        // 為所有 API key 輸入框添加事件監聽
        document.getElementById("openai-apikey-input").addEventListener('input', () => {
            updateProviderOptions();
            checkApiKey();
        });
        document.getElementById("anthropic-apikey-input").addEventListener('input', () => {
            updateProviderOptions();
            checkApiKey();
        });
        document.getElementById("deepseek-apikey-input").addEventListener('input', () => {
            updateProviderOptions();
            checkApiKey();
        });

        document.addEventListener('click', function (e) {
            // 處理添加替換文字區塊的按鈕點擊
            if (e.target.classList.contains('add-taginput-btn')) {
                const parentAccordionBody = e.target.closest('.accordion-body');

                // 創建新的替換文字輸入區塊
                const newRow = document.createElement('div');
                newRow.className = 'row mt-3 d-md-flex d-none';
                newRow.innerHTML = `
                    <div class="col-3 pe-1">
                        <input value="{{節日}}" placeholder="指定要替換的文字" class="key-input form-control border-dark w-100 h-100">
                    </div>
                    <div class="col-7 pe-1">
                        <input value="情人節,中秋節,聖誕節" placeholder="要依序替換成什麼？" class="tag-input rounded border-dark" name='basic'>
                    </div>
                    <div class="col-2">
                        <button type="button" class="remove-taginput-btn btn btn-dark w-100 h-100">移除</button>
                    </div>
                `;

                // 將新區塊插入到按鈕後面
                e.target.parentElement.insertAdjacentElement('afterend', newRow);

                // 初始化新增的 tag input
                const newTagInput = newRow.querySelector('.tag-input');
                new Tagify(newTagInput);
            }

            // 處理移除替換文字區塊的按鈕點擊
            if (e.target.classList.contains('remove-taginput-btn')) {
                const rowToRemove = e.target.closest('.row');
                if (rowToRemove) {
                    rowToRemove.remove();
                }
            }
        });

        function decodeFromHash() {
            if (location.hash.startsWith('#data/')) {
                const base64 = location.hash.replace('#data/', '');
                try {
                    const decodedPrompt = fromBase64(base64);
                    const data = JSON.parse(decodedPrompt);

                    // 清空既有流程和結果
                    const accordionContainer = document.getElementById("accordionContainer");
                    const resultContainer = document.getElementById("result");
                    resultContainer.innerHTML = ''; // 清空結果區域

                    // 保存第一個設定項目(API設定)
                    const firstAccordionItem = accordionContainer.children[0];
                    // 清空容器
                    accordionContainer.innerHTML = '';
                    // 放回第一個設定項目
                    accordionContainer.appendChild(firstAccordionItem);

                    // 填入基本資料
                    document.getElementById("description-textarea").value = data.description || "";
                    document.getElementById("name-input").value = data.name || "";
                    document.getElementById("execute-input").value = data.execute || "1";
                    document.getElementById("execute-input").previousElementSibling.textContent =
                        `執行次數：${data.execute || "1"}`;

                    // 處理每個提示詞
                    data.prompts.forEach(function (prompt, index) {
                        if (index === 0) {
                            // 創建第一個提示詞的輸入欄位
                            const firstAccordionItem = document.createElement("div");
                            firstAccordionItem.className = "accordion-item border-dark";
                            firstAccordionItem.innerHTML = `
                        <h2 class="accordion-header" id="heading1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                data-bs-target="#collapse1" aria-expanded="false" 
                                aria-controls="collapse1">
                                提示詞流程 #1
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse" 
                            aria-labelledby="heading1">
                            <div class="accordion-body p-4">
                                <textarea class="form-control p-3 border-dark" 
                                    id="formControlTextarea1" 
                                    placeholder="寫點提示詞吧！">${prompt}</textarea>
                                <div class="d-flex mt-3 border border-1 border-dark rounded px-2 py-3">
                                    <div style="width: 150px; text-align: center;">嚴謹回覆</div>
                                    <input class="form-range temperature-input" min="0" max="1" 
                                        step="0.1" value="${data.temperatures[index] || '0.3'}" type="range">
                                    <div style="width: 150px; text-align: center;">創意回覆</div>
                                </div>
                                <div class="w-100 mt-3 d-md-block d-none">
                                    <button type="button" class="btn btn-dark w-100 add-taginput-btn">
                                        加入每次執行要替換文字
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                            accordionContainer.appendChild(firstAccordionItem);

                            const textarea = firstAccordionItem.querySelector('textarea');
                            textarea.style.height = "300px";

                            // 如果存在關鍵字替換設定且不為空對象
                            if (data.keywords && data.keywords[index] && Object.keys(data.keywords[index]).length > 0) {
                                const keywords = data.keywords[index];
                                Object.entries(keywords).forEach(([key, values]) => {
                                    // 創建新的替換文字輸入區塊
                                    const newRow = document.createElement('div');
                                    newRow.className = 'row mt-3 d-md-flex d-none';
                                    newRow.innerHTML = `
                                <div class="col-3 pe-1">
                                    <input value="${key}" placeholder="指定要替換的文字" class="key-input form-control border-dark w-100 h-100">
                                </div>
                                <div class="col-7 pe-1">
                                    <input value="${values.join(',')}" placeholder="要依序替換成什麼？" class="tag-input rounded border-dark" name='basic'>
                                </div>
                                <div class="col-2">
                                    <button type="button" class="remove-taginput-btn btn btn-dark w-100 h-100">移除</button>
                                </div>
                            `;

                                    const accordionBody = textarea.closest('.accordion-body');
                                    accordionBody.appendChild(newRow);

                                    // 初始化 Tagify
                                    const tagInput = newRow.querySelector('.tag-input');
                                    new Tagify(tagInput);
                                });
                            }

                        } else {
                            // 為其餘提示詞建立新的輸入欄位
                            const accordionItem = document.createElement("div");
                            accordionItem.className = "accordion-item border-dark";

                            // 創建 accordion 結構
                            accordionItem.innerHTML = `
                        <h2 class="accordion-header" id="heading${index + 1}">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                data-bs-target="#collapse${index + 1}" aria-expanded="false" 
                                aria-controls="collapse${index + 1}">
                                提示詞流程 #${index + 1}
                            </button>
                        </h2>
                        <div id="collapse${index + 1}" class="accordion-collapse collapse" 
                            aria-labelledby="heading${index + 1}">
                            <div class="accordion-body p-4">
                                <textarea class="form-control p-3 border-dark" 
                                    id="formControlTextarea${index + 1}" 
                                    placeholder="寫點提示詞吧！">${prompt}</textarea>
                                <div class="d-flex mt-3 border border-1 border-dark rounded px-2 py-3">
                                    <div style="width: 150px; text-align: center;">嚴謹回覆</div>
                                    <input class="form-range temperature-input" min="0" max="1" 
                                        step="0.1" value="${data.temperatures[index] || '0.3'}" type="range">
                                    <div style="width: 150px; text-align: center;">創意回覆</div>
                                </div>
                                <div class="w-100 mt-3 d-md-block d-none">
                                    <button type="button" class="btn btn-dark w-100 add-taginput-btn">
                                        加入每次執行要替換文字
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;

                            accordionContainer.appendChild(accordionItem);

                            const textarea = accordionItem.querySelector('textarea');
                            textarea.style.height = "300px";

                            // 如果存在關鍵字替換設定且不為空對象
                            if (data.keywords && data.keywords[index] && Object.keys(data.keywords[index]).length > 0) {
                                const keywords = data.keywords[index];
                                Object.entries(keywords).forEach(([key, values]) => {
                                    // 創建新的替換文字輸入區塊
                                    const newRow = document.createElement('div');
                                    newRow.className = 'row mt-3 d-md-flex d-none';
                                    newRow.innerHTML = `
                                <div class="col-3 pe-1">
                                    <input value="${key}" placeholder="指定要替換的文字" class="key-input form-control border-dark w-100 h-100">
                                </div>
                                <div class="col-7 pe-1">
                                    <input value="${values.join(',')}" placeholder="要依序替換成什麼？" class="tag-input rounded border-dark" name='basic'>
                                </div>
                                <div class="col-2">
                                    <button type="button" class="remove-taginput-btn btn btn-dark w-100 h-100">移除</button>
                                </div>
                            `;

                                    const accordionBody = textarea.closest('.accordion-body');
                                    accordionBody.appendChild(newRow);

                                    // 初始化 Tagify
                                    const tagInput = newRow.querySelector('.tag-input');
                                    new Tagify(tagInput);
                                });
                            }

                            // 添加事件監聽器
                            textarea.addEventListener("input", function (e) {
                                clearSaveLinkSection();
                                this.style.height = "300px";
                            });
                        }
                    });

                    // 如果存在 result 陣列，則重新建立結果區域
                    if (data.result && data.result.length > 0) {
                        data.result.forEach((resultSet, setIndex) => {
                            const now = new Date();
                            const timestamp = now.getTime() + setIndex;

                            let accordion = document.createElement("div");
                            accordion.className = "accordion mb-3";
                            accordion.id = `accordion-${timestamp}`;

                            let accordionItem = document.createElement("div");
                            accordionItem.className = "accordion-item border-dark";

                            let accordionHeader = document.createElement("h2");
                            accordionHeader.className = "accordion-header";
                            accordionHeader.id = `heading-${timestamp}`;

                            let accordionButton = document.createElement("button");
                            accordionButton.className = "accordion-button";
                            accordionButton.type = "button";
                            accordionButton.setAttribute("data-bs-toggle", "collapse");
                            accordionButton.setAttribute("data-bs-target", `#collapse-${timestamp}`);
                            accordionButton.setAttribute("aria-expanded", "true");
                            accordionButton.setAttribute("aria-controls", `collapse-${timestamp}`);

                            let timeSpan = document.createElement("span");
                            timeSpan.textContent = getCurrentDateTimeWithMicroseconds();
                            accordionButton.appendChild(timeSpan);

                            let accordionCollapse = document.createElement("div");
                            accordionCollapse.id = `collapse-${timestamp}`;
                            accordionCollapse.className = "accordion-collapse collapse show";
                            accordionCollapse.setAttribute("aria-labelledby", `heading-${timestamp}`);

                            let accordionBody = document.createElement("div");
                            accordionBody.className = "accordion-body p-4";
                            let chatCard = document.createElement("div");
                            chatCard.className = "chatCard";

                            resultSet.forEach((result, index) => {
                                // 創建提示詞和回覆的卡片
                                let cardContainer = document.createElement("div");
                                cardContainer.className = index === 0 ? "d-flex w-100" : "d-flex w-100 mt-3";

                                // 內容容器
                                let contentContainer = document.createElement("div");
                                contentContainer.className = "card p-3 m-0 reply-sec position-relative me-2 border-dark";

                                let contentWrapper = document.createElement("div");
                                contentWrapper.className = "content-wrapper";

                                let preElement = document.createElement("pre");
                                preElement.textContent = result;

                                contentWrapper.appendChild(preElement);
                                contentContainer.appendChild(contentWrapper);

                                // 添加展開按鈕
                                let expandButton = createExpandButton(result);

                                cardContainer.appendChild(contentContainer);
                                cardContainer.appendChild(expandButton);
                                chatCard.appendChild(cardContainer);
                            });

                            // 添加刪除按鈕
                            let deleteButton = document.createElement("button");
                            deleteButton.className = "btn btn-dark mt-3 w-100";
                            deleteButton.textContent = "刪除";
                            deleteButton.onclick = function () {
                                resultContainer.removeChild(accordion);
                            };
                            chatCard.appendChild(deleteButton);

                            // 組裝結構
                            accordionHeader.appendChild(accordionButton);
                            accordionBody.appendChild(chatCard);
                            accordionCollapse.appendChild(accordionBody);
                            accordionItem.appendChild(accordionHeader);
                            accordionItem.appendChild(accordionCollapse);
                            accordion.appendChild(accordionItem);

                            resultContainer.insertBefore(accordion, resultContainer.firstChild);
                        });
                    }

                } catch (e) {
                    console.error("解碼時發生錯誤: ", e);
                }
            }
        }


        function handleHashChange() {
            decodeFromHash();
        }

        // 在頁面載入時初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 首先創建 modal（如果還不存在的話）
            if (!document.getElementById('expandModal')) {
                const modal = document.createElement('div');
                modal.className = 'modal fade';
                modal.id = 'expandModal';
                modal.tabIndex = '-1';
                modal.innerHTML = `
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">完整內容</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="p-3 d-flex flex-column" id="modalContent"></div>
                                <textarea id="modalContentTextarea" class="d-none"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button id="copy-btn3" type="button" class="btn btn-dark">複製為 Markdown</button>
                                <button id="copy-btn4" type="button" class="btn btn-dark">複製</button>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            }
            // 讀取儲存的 API keys
            const savedOpenAIApiKey = localStorage.getItem('openai_api_key');
            if (savedOpenAIApiKey) {
                document.getElementById("openai-apikey-input").value = savedOpenAIApiKey;
            }
            const savedAnthropicApiKey = localStorage.getItem('anthropic_api_key');
            if (savedAnthropicApiKey) {
                document.getElementById("anthropic-apikey-input").value = savedAnthropicApiKey;
            }
            const savedDeepSeekApiKey = localStorage.getItem('deepseek_api_key');
            if (savedDeepSeekApiKey) {
                document.getElementById("deepseek-apikey-input").value = savedDeepSeekApiKey;
            }

            // 初始化選項和檢查 API key
            updateProviderOptions();
            checkApiKey();
            handleHashChange();
            window.addEventListener('hashchange', handleHashChange);

            document.addEventListener('click', function (e) {
                if (!e.target.closest('#save-link-section') &&
                    !e.target.matches('#save-btn') &&
                    !e.target.closest('#save-btn')) {
                    clearSaveLinkSection();
                }
            });
        });

        /**
             * Base64 編碼：支持中文
             */
        function toBase64(str) {
            return btoa(unescape(encodeURIComponent(str)));
        }

        /**
         * Base64 解碼：與上面配套
         */
        function fromBase64(str) {
            return decodeURIComponent(escape(atob(str)));
        }

        document.getElementById("save-btn").addEventListener("click", function () {
            const data = {
                description: document.getElementById("description-textarea").value || "",
                name: document.getElementById("name-input").value || "",
                temperatures: [],
                execute: document.getElementById("execute-input").value,
                prompts: [],
                keywords: [],
                result: []
            };

            document.querySelectorAll("#accordionContainer textarea").forEach(function (textarea) {
                if (textarea.value == "") return
                data.prompts.push(textarea.value);
                textarea.parentElement.querySelectorAll(".temperature-input").forEach(function (input) {
                    data.temperatures.push(input.value);
                });
                const temp = {};
                textarea.parentElement.querySelectorAll(".key-input").forEach(function (input) {
                    const key = input.value;
                    temp[key] = JSON.parse(input.parentElement.parentElement.querySelectorAll(".tag-input")[1].value).map(e => e.value)
                });
                data.keywords.push(temp)
            });

            document.querySelectorAll("#result .accordion").forEach(function (accordion) {
                let tmp = [];
                accordion.querySelectorAll("pre").forEach(function (pre) {
                    tmp.push(pre.innerText);
                });
                data.result.push(tmp);
            });

            console.log(data)

            const jsonStr = JSON.stringify(data);
            const base64 = toBase64(jsonStr);
            const shareURL = `${window.location.origin}${window.location.pathname}#data/${base64}`;
            document.getElementById("save-link-section").innerHTML = `
                <div class="row mt-3">
                    <div class="col-9 col-md-10">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1">分享連結</span>
                            <input type="text" class="form-control bg-white" id="shareLinkTextarea1" readonly value="${shareURL}">
                        </div>
                    </div>
                    <div class="col-3 col-md-2">
                        <button id="copy-btn1" type="button" class="w-100 btn btn-dark">複製</button>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-9 col-md-10">
                        <div class="input-group">
                            <span class="input-group-text" id="basic-addon1">縮短網址</span>
                            <input type="text" class="form-control bg-white" id="shareLinkTextarea2" readonly>
                        </div>
                    </div>
                    <div class="col-3 col-md-2">
                        <button id="copy-btn2" type="button" class="w-100 btn btn-dark">複製</button>
                    </div>
                </div>
                
            `;

            document.getElementById("copy-btn1").addEventListener('click', () => {
                document.getElementById("shareLinkTextarea1").select();
                document.getElementById("shareLinkTextarea1").setSelectionRange(0, 99999);
                document.execCommand('copy');
                shareCopyAlert.style.display = 'block';
                setTimeout(() => {
                    shareCopyAlert.style.display = 'none';
                }, 2000);
            });

            document.getElementById("copy-btn2").addEventListener('click', () => {
                document.getElementById("shareLinkTextarea2").select();
                document.getElementById("shareLinkTextarea2").setSelectionRange(0, 99999);
                document.execCommand('copy');
                shareCopyAlert.style.display = 'block';
                setTimeout(() => {
                    shareCopyAlert.style.display = 'none';
                }, 2000);
            });

            const apiKeys = [
                '4070ff49d794e73714543b663c974755ecd6b036909a04df8a38b58d65165567c4f5d6',
                '4070ff49d794e73714533b663c974755ecd6b036909904df8a38b58d65165567c4f5d6',
                '4070ff49d794e73714523b663c974755ecd6b036909804df8a38b58d65165567c4f5d6'
            ];

            const selectedApiKey = apiKeys[Math.floor(Math.random() * apiKeys.length)];

            const shareLinkTextarea2 = document.getElementById('shareLinkTextarea2');

            fetch('https://api.reurl.cc/shorten', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'reurl-api-key': selectedApiKey
                },
                body: JSON.stringify({
                    "url": shareLinkTextarea1.value,
                    "utm_source": ""
                })
            })
                .then(response => response.json())
                .then(data => {
                    if (data.res === 'success') {
                        shareLinkTextarea2.value = data.short_url;
                    } else {
                        shareLinkTextarea2.value = '內容太多，無法縮短網址！';
                    }
                });

            window.history.replaceState(null, '', shareURL);
        });

        // 當 API key 輸入框值改變時，保存到 localStorage
        document.getElementById("openai-apikey-input").addEventListener('change', function () {
            clearSaveLinkSection();
            localStorage.setItem('openai_api_key', this.value);
            checkApiKey();
        });

        document.getElementById("anthropic-apikey-input").addEventListener('change', function () {
            clearSaveLinkSection();
            localStorage.setItem('anthropic_api_key', this.value);
            checkApiKey();
        });

        document.getElementById("deepseek-apikey-input").addEventListener('change', function () {
            clearSaveLinkSection();
            localStorage.setItem('deepseek_api_key', this.value);
            checkApiKey();
        });

        document.querySelectorAll("#accordionContainer textarea").forEach(function (textarea) {
            textarea.style.height = "300px";
            textarea.addEventListener("input", function (e) {
                clearSaveLinkSection();
                this.style.height = "300px";
            });
        });

        document.getElementById("add-btn").addEventListener("click", function () {
            clearSaveLinkSection();

            const accordionContainer = document.getElementById("accordionContainer");

            // 創建主要accordion元素
            const accordionItem = document.createElement("div");
            accordionItem.className = "accordion-item border-dark";

            // 創建header
            const accordionHeader = document.createElement("h2");
            accordionHeader.className = "accordion-header";
            accordionHeader.id = `heading${accordionContainer.children.length}`;

            // 創建button
            const accordionButton = document.createElement("button");
            accordionButton.className = "accordion-button collapsed";
            accordionButton.type = "button";
            accordionButton.setAttribute("data-bs-toggle", "collapse");
            accordionButton.setAttribute("data-bs-target", `#collapse${accordionContainer.children.length}`);
            accordionButton.setAttribute("aria-expanded", "false");
            accordionButton.setAttribute("aria-controls", `collapse${accordionContainer.children.length}`);
            accordionButton.textContent = `提示詞流程 #${accordionContainer.children.length}`;

            accordionHeader.appendChild(accordionButton);

            // 創建collapse容器
            const accordionCollapse = document.createElement("div");
            accordionCollapse.id = `collapse${accordionContainer.children.length}`;
            accordionCollapse.className = "accordion-collapse collapse";
            accordionCollapse.setAttribute("aria-labelledby", `heading${accordionContainer.children.length}`);
            accordionCollapse.setAttribute("data-bs-parent", "#accordionContainer");

            // 創建body
            const accordionBody = document.createElement("div");
            accordionBody.className = "accordion-body p-4";

            // 創建textarea
            const textarea = document.createElement("textarea");
            textarea.className = "form-control p-3 border-dark";
            textarea.id = `formControlTextarea${accordionContainer.children.length}`;
            textarea.placeholder = "寫點提示詞吧！";

            // 創建溫度控制容器
            const temperatureContainer = document.createElement("div");
            temperatureContainer.className = "d-flex mt-3 border border-1 border-dark rounded px-2 py-3";

            // 在原有的 textarea 和溫度控制元素之後加入替換文字按鈕
            const replaceButton = document.createElement("div");
            replaceButton.className = "w-100 mt-3 d-md-block d-none";
            replaceButton.innerHTML = `
                <button type="button" class="btn btn-dark w-100 add-taginput-btn">加入每次執行要替換文字</button>
            `;

            // 創建左側文字
            const leftText = document.createElement("div");
            leftText.style.width = "150px";
            leftText.style.textAlign = "center";
            leftText.textContent = "嚴謹回覆";

            // 創建滑塊
            const temperatureInput = document.createElement("input");
            temperatureInput.className = "form-range temperature-input";
            temperatureInput.type = "range";
            temperatureInput.min = "0";
            temperatureInput.max = "1";
            temperatureInput.step = "0.1";
            temperatureInput.value = "0.3";

            // 創建右側文字
            const rightText = document.createElement("div");
            rightText.style.width = "150px";
            rightText.style.textAlign = "center";
            rightText.textContent = "創意回覆";

            // 組裝溫度控制元素
            temperatureContainer.appendChild(leftText);
            temperatureContainer.appendChild(temperatureInput);
            temperatureContainer.appendChild(rightText);

            // 組裝所有元素
            accordionBody.appendChild(textarea);
            accordionBody.appendChild(temperatureContainer);
            accordionBody.appendChild(replaceButton);  // 加入新元素
            accordionCollapse.appendChild(accordionBody);
            accordionItem.appendChild(accordionHeader);
            accordionItem.appendChild(accordionCollapse);
            accordionContainer.appendChild(accordionItem);

            // 設置textarea高度和事件監聽
            textarea.style.height = "300px";
            textarea.addEventListener("input", function (e) {
                clearSaveLinkSection();
                this.style.height = "300px";
            });
        });

        document.getElementById("remove-btn").addEventListener("click", function () {
            clearSaveLinkSection();
            const accordionContainer = document.getElementById("accordionContainer");
            if (accordionContainer.children.length > 2) {
                accordionContainer.removeChild(accordionContainer.lastElementChild);
            }
        });
        document.getElementById("reset-btn").addEventListener("click", function () {
            clearSaveLinkSection();
            document.getElementById("result").innerHTML = "";
        });
        document.getElementById("clear-btn").addEventListener("click", function () {
            clearSaveLinkSection();
            let accordionContainer = document.getElementById("accordionContainer")
            let tmpAccordionItem1 = accordionContainer.querySelectorAll(".accordion-item")[0]
            let tmpAccordionItem2 = accordionContainer.querySelectorAll(".accordion-item")[1]
            tmpAccordionItem2.querySelector("textarea").value = "hi"
            accordionContainer.innerHTML = ""
            accordionContainer.appendChild(tmpAccordionItem1)
            accordionContainer.appendChild(tmpAccordionItem2)
            window.history.replaceState(null, '', './flow.html');
        });
        document.getElementById("close-btn").addEventListener("click", function () {
            clearSaveLinkSection();
            // 獲取所有展開的 accordion-collapse 元素
            const expandedAccordions = document.querySelectorAll('#result .accordion-collapse.show');

            // 對每個展開的 accordion 進行收合
            expandedAccordions.forEach(accordion => {
                // 找到對應的按鈕
                const button = document.querySelector(`[data-bs-target="#${accordion.id}"]`);
                if (button && !button.classList.contains('collapsed')) {
                    button.click(); // 觸發按鈕的點擊事件來收合
                }
            });
        });
        document.getElementById("execute-input").addEventListener("input", function () {
            clearSaveLinkSection();
            this.previousElementSibling.textContent = `執行次數：${this.value}`;
        });
        function getCurrentDateTimeWithMicroseconds() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const milliseconds = now.getMilliseconds();
            const microseconds = milliseconds * 1000;
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}.${String(microseconds).padStart(6, '0')}`;
        }

        // 創建一個通用的展開按鈕函數
        function createExpandButton(content) {
            let expandButton = document.createElement("button");
            expandButton.className = "btn btn-sm btn-dark";
            expandButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-angle-expand" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"/></svg>';

            expandButton.onclick = (e) => {
                e.stopPropagation();
                const modal = new bootstrap.Modal(document.getElementById('expandModal'));
                let mdContent = md.render(content)
                document.getElementById('modalContent').innerHTML = mdContent;
                document.getElementById('modalContentTextarea').value = content;

                modal.show();
            };

            return expandButton;
        }

        async function sendRequests(execute, prompts, model, temperatures, apikey, provide, keywords) {
            let reply;
            let result = document.getElementById("result");



            document.getElementById("copy-btn3").addEventListener('click', () => {
                let markdownContent = document.getElementById('modalContentTextarea').value
                navigator.clipboard.writeText(markdownContent).then(() => {
                    const shareCopyAlert = document.getElementById('shareCopyAlert');
                    shareCopyAlert.style.display = 'block';
                    setTimeout(() => {
                        shareCopyAlert.style.display = 'none';
                    }, 2000);
                }).catch(err => {
                    console.error('無法複製文字: ', err);
                });
            });

            document.getElementById("copy-btn4").addEventListener('click', () => {
                const e = document.getElementById("modalContent");
                const r = document.createRange();
                r.selectNodeContents(e);
                const s = window.getSelection();
                s.removeAllRanges();
                s.addRange(r);
                document.execCommand("copy");
                if (window.getSelection) {
                    window.getSelection().removeAllRanges(); // 現代瀏覽器
                } else if (document.selection) {
                    document.selection.empty(); // 舊版 IE
                }
                shareCopyAlert.style.display = 'block';
                setTimeout(() => {
                    shareCopyAlert.style.display = 'none';
                }, 2000);
            });



            for (let i = 0; i < Number(execute); i++) {
                replyArr = []
                reply = "";

                const now = new Date();
                const timestamp = now.getTime();

                let accordion = document.createElement("div");
                accordion.className = "accordion mb-3";
                accordion.id = `accordion-${timestamp}`;

                // 創建 accordion item
                let accordionItem = document.createElement("div");
                accordionItem.className = "accordion-item border-dark";

                // 創建 accordion header
                let accordionHeader = document.createElement("h2");
                accordionHeader.className = "accordion-header";
                accordionHeader.id = `heading-${timestamp}`;

                // 創建 accordion button
                let accordionButton = document.createElement("button");
                accordionButton.className = "accordion-button";
                accordionButton.type = "button";
                accordionButton.setAttribute("data-bs-toggle", "collapse");
                accordionButton.setAttribute("data-bs-target", `#collapse-${timestamp}`);
                accordionButton.setAttribute("aria-expanded", "true");
                accordionButton.setAttribute("aria-controls", `collapse-${timestamp}`);

                // 創建時間戳記 span
                let timeSpan = document.createElement("span");
                timeSpan.textContent = getCurrentDateTimeWithMicroseconds();
                accordionButton.appendChild(timeSpan);

                // 創建 accordion collapse
                let accordionCollapse = document.createElement("div");
                accordionCollapse.id = `collapse-${timestamp}`;
                accordionCollapse.className = "accordion-collapse collapse show";
                accordionCollapse.setAttribute("aria-labelledby", `heading-${timestamp}`);

                // 創建 accordion body 和 chatCard
                let accordionBody = document.createElement("div");
                accordionBody.className = "accordion-body p-4";
                let chatCard = document.createElement("div");
                chatCard.className = "chatCard";

                // 組裝 accordion 結構
                accordionHeader.appendChild(accordionButton);
                accordionBody.appendChild(chatCard);
                accordionCollapse.appendChild(accordionBody);
                accordionItem.appendChild(accordionHeader);
                accordionItem.appendChild(accordionCollapse);
                accordion.appendChild(accordionItem);

                result.insertBefore(accordion, result.firstChild);

                for (let j = 0; j < prompts.length; j++) {
                    let prompt = prompts[j];
                    const keyword = keywords[j];
                    Object.keys(keyword).forEach(key => {
                        prompt = prompt.replaceAll(key, keyword[key][i % keyword[key].length])
                    });
                    replyArr.push({ "role": "user", "content": prompt })
                    const body = {
                        "model": model,
                        "messages": [
                            ...replyArr
                        ],
                        "temperature": Number(temperatures[j]),
                        "max_tokens": 8192
                    };

                    const bodystr = JSON.stringify(body);
                    let cardContainer = document.createElement("div");
                    if (j === 0) cardContainer.className = "d-flex w-100";
                    if (j != 0) cardContainer.className = "d-flex w-100 mt-3";


                    // 創建提示詞容器
                    let promptContainer = document.createElement("div");
                    promptContainer.className = "card p-3 m-0 shadow-none bg-light rounded position-relative ask-sec me-2 border-dark";

                    // 創建 content-wrapper
                    let promptWrapper = document.createElement("div");
                    promptWrapper.className = "content-wrapper";

                    // 創建提示詞文本元素
                    let promptText = document.createElement("pre");
                    promptText.textContent = prompt.trim();

                    // 添加展開按鈕到提示詞區域
                    let promptExpandButton = createExpandButton(prompt.trim());

                    // 組裝提示詞容器
                    promptWrapper.appendChild(promptText);
                    promptContainer.appendChild(promptWrapper);
                    cardContainer.appendChild(promptContainer);
                    cardContainer.appendChild(promptExpandButton);
                    chatCard.appendChild(cardContainer);


                    try {
                        let url, headers, response, data, spinner, spinnerContainer, spinnerText;
                        // console.log(provide)
                        // Add spinner
                        spinnerContainer = document.createElement('div');
                        spinnerContainer.className = 'mt-3 text-center';
                        spinner = document.createElement('div');
                        spinner.className = 'spinner-border text-dark';
                        spinner.setAttribute('role', 'status');
                        spinnerText = document.createElement('span');
                        spinnerText.className = 'visually-hidden';
                        spinnerText.textContent = 'Loading...';
                        spinner.appendChild(spinnerText);
                        spinnerContainer.appendChild(spinner);
                        chatCard.appendChild(spinnerContainer);
                        if (provide.includes("openai")) {
                            url = "https://api.openai.com/v1/chat/completions"
                            headers = {
                                "content-type": "application/json",
                                "authorization": `Bearer ${apikey}`
                            }
                            response = await fetch(url, {
                                method: "POST",
                                headers: headers,
                                body: bodystr
                            });
                            data = await response.json();
                            reply = data.choices[0].message.content + "\n\n";
                            replyArr.push(data.choices[0].message)
                        }
                        if (provide.includes("deepseek")) {
                            url = "https://api.deepseek.com/chat/completions"
                            headers = {
                                "content-type": "application/json",
                                "authorization": `Bearer ${apikey}`
                            }
                            response = await fetch(url, {
                                method: "POST",
                                headers: headers,
                                body: bodystr
                            });
                            data = await response.json();
                            reply = data.choices[0].message.content + "\n\n";
                            replyArr.push(data.choices[0].message)
                        }
                        if (provide.includes("anthropic")) {
                            url = "https://api.anthropic.com/v1/messages"
                            headers = {
                                "content-type": "application/json",
                                "x-api-key": apikey,
                                "anthropic-version": "2023-06-01",
                                "anthropic-dangerous-direct-browser-access": "true",
                            }
                            response = await fetch(url, {
                                method: "POST",
                                headers: headers,
                                body: bodystr
                            });
                            data = await response.json();
                            reply = data.content[0].text + "\n\n";
                            replyArr.push({ "role": "assistant", "content": data.content[0].text })
                        }

                        // remove spinner
                        chatCard.removeChild(spinnerContainer);

                        let replyCardContainer = document.createElement("div");
                        replyCardContainer.className = "d-flex w-100 mt-3";

                        // 創建回覆容器
                        let replyContainer = document.createElement("div");
                        replyContainer.className = "card p-3 m-0 reply-sec position-relative me-2 border-dark";

                        // 添加展開按鈕到回覆區域
                        let replyExpandButton = createExpandButton(reply);

                        // 創建內容區域
                        let contentDiv = document.createElement("div");
                        contentDiv.className = "content-wrapper";
                        let replyText = document.createElement("pre");
                        replyText.textContent = reply.trim();
                        contentDiv.appendChild(replyText);
                        if (contentDiv.lastElementChild) {
                            contentDiv.lastElementChild.className = "mb-0";
                        }

                        // 組裝回覆容器
                        replyContainer.appendChild(contentDiv);
                        replyCardContainer.appendChild(replyContainer);
                        replyCardContainer.appendChild(replyExpandButton);
                        chatCard.appendChild(replyCardContainer);

                    } catch (error) {
                        console.error("Error:", error);
                        // 創建錯誤提示
                        let errorDiv = document.createElement("div");
                        errorDiv.className = "alert alert-danger mt-3";
                        errorDiv.textContent = "發生錯誤：" + error.message;
                        chatCard.appendChild(errorDiv);
                    }
                }

                let deleteButton = document.createElement("button");
                deleteButton.className = "btn btn-dark mt-3 w-100";
                deleteButton.textContent = "刪除";
                deleteButton.onclick = function () {
                    result.removeChild(accordion);
                };
                chatCard.appendChild(deleteButton);
            }
        }

        document.getElementById("send-btn").addEventListener("click", async function () {
            clearSaveLinkSection();
            const sendBtn = this;
            // 獲取所有需要禁用的按鈕
            const saveBtn = document.getElementById("save-btn");
            const clearBtn = document.getElementById("clear-btn");
            const resetBtn = document.getElementById("reset-btn");
            const closeBtn = document.getElementById("close-btn");

            // 將所有按鈕禁用
            const buttons = [sendBtn, saveBtn, clearBtn, resetBtn, closeBtn];
            buttons.forEach(btn => btn.disabled = true);

            // 修改發送按鈕的顯示狀態
            sendBtn.innerHTML = `
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                處理中...
            `;

            const provide = document.getElementById("provide-select").value;
            let apikey;
            if (provide.includes("openai")) apikey = document.getElementById("openai-apikey-input").value;
            if (provide.includes("anthropic")) apikey = document.getElementById("anthropic-apikey-input").value;
            if (provide.includes("deepseek")) apikey = document.getElementById("deepseek-apikey-input").value;
            const model = provide.split(":")[1]
            // const temperature = document.getElementById("temperature-input").value;
            const execute = document.getElementById("execute-input").value;
            const prompts = [];
            const temperatures = [];
            const keywords = [];
            document.querySelectorAll("#accordionContainer textarea").forEach(function (textarea) {
                textarea.value = textarea.value.trim()
                if (textarea.value == "") return
                textarea.parentElement.querySelectorAll(".temperature-input").forEach(function (input) {
                    temperatures.push(input.value);
                });
                prompts.push(textarea.value);
                const temp = {};
                textarea.parentElement.querySelectorAll(".key-input").forEach(function (input) {
                    const key = input.value;
                    temp[key] = JSON.parse(input.parentElement.parentElement.querySelectorAll(".tag-input")[1].value).map(e => e.value)
                });
                keywords.push(temp)
            });

            try {
                await sendRequests(execute, prompts, model, temperatures, apikey, provide, keywords);
            } catch (error) {
                console.error("Error:", error);
            } finally {
                // 恢復所有按鈕狀態
                buttons.forEach(btn => btn.disabled = false);
                sendBtn.innerHTML = "送出";
            }
        });


    </script>
</body>

</html>
